import{j as o,s as R,G as z,q as r,z as l,F as _,P as N,v as P,x as A,a4 as $}from"./vendor-vue-BvKyvIVR.js";import{g as w,p as T,A as q,b as H,s as j,q as D,B as E,f as G,h as J,i as K,I as k}from"./vendor-ui-Dz8XL-co.js";import{q as O,f as Q}from"./VGrid-CuJrScxf.js";import{m as U}from"./VIcon-CM-KW5Qw.js";import{m as W}from"./tag-Bnbpnddf.js";const X=T({name:String,itemAriaLabel:{type:String,default:"$vuetify.rating.ariaLabel.item"},activeColor:String,color:String,clearable:Boolean,disabled:Boolean,emptyIcon:{type:k,default:"$ratingEmpty"},fullIcon:{type:k,default:"$ratingFull"},halfIncrements:Boolean,hover:Boolean,length:{type:[Number,String],default:5},readonly:Boolean,modelValue:{type:[Number,String],default:0},itemLabels:Array,itemLabelPosition:{type:String,default:"top",validator:e=>["top","bottom"].includes(e)},ripple:Boolean,...K(),...O(),...U(),...W(),...J()},"VRating"),ne=w()({name:"VRating",props:X(),emits:{"update:modelValue":e=>!0},setup(e,C){let{slots:s}=C;const{t:b}=q(),{themeClasses:M}=H(e),h=j(e,"modelValue"),u=o(()=>D(parseFloat(h.value),0,Number(e.length))),y=o(()=>E(Number(e.length),1)),I=o(()=>y.value.flatMap(a=>e.halfIncrements?[a-.5,a]:[a])),c=R(-1),v=o(()=>I.value.map(a=>{const t=e.hover&&c.value>-1,n=u.value>=a,i=c.value>=a,g=(t?i:n)?e.fullIcon:e.emptyIcon,f=e.activeColor??e.color,d=n||i?f:e.color;return{isFilled:n,isHovered:i,icon:g,color:d}})),B=o(()=>[0,...I.value].map(a=>{function t(){c.value=a}function n(){c.value=-1}function i(){e.disabled||e.readonly||(h.value=u.value===a&&e.clearable?0:a)}return{onMouseenter:e.hover?t:void 0,onMouseleave:e.hover?n:void 0,onClick:i}})),F=z(),V=o(()=>e.name??`v-rating-${F}`);function m(a){let{value:t,index:n,showStar:i=!0}=a;const{onMouseenter:L,onMouseleave:g,onClick:f}=B.value[n+1],d=`${V.value}-${String(t).replace(".","-")}`,S={color:v.value[n]?.color,density:e.density,disabled:e.disabled,icon:v.value[n]?.icon,ripple:e.ripple,size:e.size,variant:"plain"};return l(_,null,[l("label",{for:d,class:P({"v-rating__item--half":e.halfIncrements&&t%1>0,"v-rating__item--full":e.halfIncrements&&t%1===0}),onMouseenter:L,onMouseleave:g,onClick:f},[l("span",{class:"v-rating__hidden"},[b(e.itemAriaLabel,t,e.length)]),i?s.item?s.item({...v.value[n],props:S,value:t,index:n,rating:u.value}):r(Q,A({"aria-label":b(e.itemAriaLabel,t,e.length)},S),null):void 0]),l("input",{class:"v-rating__hidden",name:V.value,id:d,type:"radio",value:t,checked:u.value===t,tabindex:-1,readonly:e.readonly,disabled:e.disabled},null)])}function x(a){return s["item-label"]?s["item-label"](a):a.label?l("span",null,[a.label]):l("span",null,[$("Â ")])}return G(()=>{const a=!!e.itemLabels?.length||s["item-label"];return r(e.tag,{class:P(["v-rating",{"v-rating--hover":e.hover,"v-rating--readonly":e.readonly},M.value,e.class]),style:N(e.style)},{default:()=>[r(m,{value:0,index:-1,showStar:!1},null),y.value.map((t,n)=>l("div",{class:"v-rating__wrapper"},[a&&e.itemLabelPosition==="top"?x({value:t,index:n,label:e.itemLabels?.[n]}):void 0,l("div",{class:"v-rating__item"},[e.halfIncrements?l(_,null,[r(m,{value:t-.5,index:n*2},null),r(m,{value:t,index:n*2+1},null)]):r(m,{value:t,index:n},null)]),a&&e.itemLabelPosition==="bottom"?x({value:t,index:n,label:e.itemLabels?.[n]}):void 0]))]})}),{}}});export{ne as V};
