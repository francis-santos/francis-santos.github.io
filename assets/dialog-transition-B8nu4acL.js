import{n as u,v as D,R as v}from"./vendor-vue-BKuzT1x2.js";import{h as F,p as b,P as w,a5 as m,M as B,V as M,aK as x,aL as E,a6 as P}from"./vendor-ui-Ca7vMALJ.js";const O=b({target:[Object,Array]},"v-dialog-transition"),p=new WeakMap,q=F()({name:"VDialogTransition",props:O(),setup(a,o){let{slots:e}=o;const r={onBeforeEnter(t){t.style.pointerEvents="none",t.style.visibility="hidden"},async onEnter(t,g){await new Promise(i=>requestAnimationFrame(i)),await new Promise(i=>requestAnimationFrame(i)),t.style.visibility="";const n=$(a.target,t),{x:c,y:f,sx:h,sy:d,speed:s}=n;if(p.set(t,n),w())m(t,[{opacity:0},{}],{duration:125*s,easing:E}).finished.then(()=>g());else{const i=m(t,[{transform:`translate(${c}px, ${f}px) scale(${h}, ${d})`,opacity:0},{}],{duration:225*s,easing:E});A(t)?.forEach(l=>{m(l,[{opacity:0},{opacity:0,offset:.33},{}],{duration:450*s,easing:P})}),i.finished.then(()=>g())}},onAfterEnter(t){t.style.removeProperty("pointer-events")},onBeforeLeave(t){t.style.pointerEvents="none"},async onLeave(t,g){await new Promise(i=>requestAnimationFrame(i));let n;!p.has(t)||Array.isArray(a.target)||a.target.offsetParent||a.target.getClientRects().length?n=$(a.target,t):n=p.get(t);const{x:c,y:f,sx:h,sy:d,speed:s}=n;w()?m(t,[{},{opacity:0}],{duration:85*s,easing:x}).finished.then(()=>g()):(m(t,[{},{transform:`translate(${c}px, ${f}px) scale(${h}, ${d})`,opacity:0}],{duration:125*s,easing:x}).finished.then(()=>g()),A(t)?.forEach(l=>{m(l,[{},{opacity:0,offset:.2},{opacity:0}],{duration:250*s,easing:P})}))},onAfterLeave(t){t.style.removeProperty("pointer-events")}};return()=>a.target?u(v,D({name:"dialog-transition"},r,{css:!1}),e):u(v,{name:"dialog-transition"},e)}});function A(a){const o=a.querySelector(":scope > .v-card, :scope > .v-sheet, :scope > .v-list")?.children;return o&&[...o]}function $(a,o){const e=B(a),r=M(o),[t,g]=getComputedStyle(o).transformOrigin.split(" ").map(C=>parseFloat(C)),[n,c]=getComputedStyle(o).getPropertyValue("--v-overlay-anchor-origin").split(" ");let f=e.left+e.width/2;n==="left"||c==="left"?f-=e.width/2:(n==="right"||c==="right")&&(f+=e.width/2);let h=e.top+e.height/2;n==="top"||c==="top"?h-=e.height/2:(n==="bottom"||c==="bottom")&&(h+=e.height/2);const d=e.width/r.width,s=e.height/r.height,i=Math.max(1,d,s),l=d/i||0,T=s/i||0,y=r.width*r.height/(window.innerWidth*window.innerHeight),V=y>.12?Math.min(1.5,(y-.12)*10+1):1;return{x:f-(t+r.left),y:h-(g+r.top),sx:l,sy:T,speed:V}}export{q as V};
