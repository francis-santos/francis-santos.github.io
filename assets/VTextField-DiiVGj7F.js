import{j as d,f as m,q as x,z as l,F as V,x as y,V as $,aj as ee,v as te,J as g}from"./vendor-vue-BOgiBTV5.js";import{b as le,d as ae,V as S,e as w,f as ne,g as ue,h as oe,m as ie,i as se}from"./autofocus-DZuUxpyU.js";import{y as re}from"./index-CPKBv9AR.js";import{h as ce,p as de,q as fe,u as ve,ap as me,ab as xe,aF as Ve}from"./vendor-ui-BR0KSDoQ.js";import{I as N}from"./VGrid-BsndwDIl.js";const ye=["color","file","time","date","datetime-local","week","month"],ge=de({autofocus:Boolean,counter:[Boolean,Number,String],counterValue:[Number,Function],prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,suffix:String,role:String,type:{type:String,default:"text"},modelModifiers:Object,...se(),...ie(),...oe()},"VTextField"),_e=ce()({name:"VTextField",directives:{vIntersect:N},inheritAttrs:!1,props:ge(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,R){let{attrs:f,emit:h,slots:n}=R;const u=fe(e,"modelValue"),{isFocused:o,focus:F,blur:B}=le(e),{onIntersect:D}=ue(e),T=d(()=>typeof e.counterValue=="function"?e.counterValue(u.value):typeof e.counterValue=="number"?e.counterValue:(u.value??"").toString().length),M=d(()=>{if(f.maxlength)return f.maxlength;if(!(!e.counter||typeof e.counter!="number"&&typeof e.counter!="string"))return e.counter}),P=d(()=>["plain","underlined"].includes(e.variant)),C=m(),b=m(),i=m(),r=ae(e),E=d(()=>ye.includes(e.type)||e.persistentPlaceholder||o.value||e.active);function k(){r.isSuppressing.value&&r.update(),o.value||F(),g(()=>{i.value!==document.activeElement&&i.value?.focus()})}function j(t){h("mousedown:control",t),t.target!==i.value&&(k(),t.preventDefault())}function z(t){h("click:control",t)}function q(t,a){t.stopPropagation(),k(),g(()=>{a(),Ve(e["onClick:clear"],t)})}function O(t){const a=t.target;if(u.value=a.value,e.modelModifiers?.trim&&["text","search","password","tel","url"].includes(e.type)){const c=[a.selectionStart,a.selectionEnd];g(()=>{a.selectionStart=c[0],a.selectionEnd=c[1]})}}return ve(()=>{const t=!!(n.counter||e.counter!==!1&&e.counter!=null),a=!!(t||n.details),[c,U]=me(f),{modelValue:he,...J}=S.filterProps(e),G=w.filterProps(e);return x(S,y({ref:C,modelValue:u.value,"onUpdate:modelValue":s=>u.value=s,class:["v-text-field",{"v-text-field--prefixed":e.prefix,"v-text-field--suffixed":e.suffix,"v-input--plain-underlined":P.value},e.class],style:e.style},c,J,{centerAffix:!P.value,focused:o.value}),{...n,default:s=>{let{id:H,isDisabled:_,isDirty:p,isReadonly:K,isValid:L,hasDetails:Q,reset:W}=s;return x(w,y({ref:b,onMousedown:j,onClick:z,"onClick:clear":v=>q(v,W),role:e.role},xe(G,["onClick:clear"]),{id:H.value,active:E.value||p.value,dirty:p.value||e.dirty,disabled:_.value,focused:o.value,details:Q.value,error:L.value===!1}),{...n,default:v=>{let{props:{class:A,...X},controlRef:Y}=v;const I=$(l("input",y({ref:Z=>i.value=Y.value=Z,value:u.value,onInput:O,autofocus:e.autofocus,readonly:K.value,disabled:_.value,name:r.fieldName.value,autocomplete:r.fieldAutocomplete.value,placeholder:e.placeholder,size:1,role:e.role,type:e.type,onFocus:F,onBlur:B},X,U),null),[[N,{handler:D},null,{once:!0}]]);return l(V,null,[e.prefix&&l("span",{class:"v-text-field__prefix"},[l("span",{class:"v-text-field__prefix__text"},[e.prefix])]),n.default?l("div",{class:te(A),"data-no-activator":""},[n.default(),I]):ee(I,{class:A}),e.suffix&&l("span",{class:"v-text-field__suffix"},[l("span",{class:"v-text-field__suffix__text"},[e.suffix])])])}})},details:a?s=>l(V,null,[n.details?.(s),t&&l(V,null,[l("span",null,null),x(ne,{active:e.persistentCounter||o.value,value:T.value,max:M.value,disabled:e.disabled},n.counter)])]):void 0})}),re({},C,b,i)}});export{_e as V,ge as m};
