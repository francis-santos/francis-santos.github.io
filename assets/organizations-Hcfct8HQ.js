import{b as r}from"./auth.service-BozCwdnf.js";import{u as n}from"./useDemoMode-DpDjlFnd.js";class s{baseUrl="/organizations";async getOrganizations(a={}){const{isDemoUser:t,getMockData:o}=n();if(t.value){const i=await o("organizations",a.page||1,a.limit||20,a);return{data:i.data,total:i.total,page:i.page,limit:i.limit,totalPages:Math.ceil(i.total/i.limit)}}const e=new URLSearchParams;return a.search&&e.append("search",a.search),a.status&&e.append("status",a.status),a.tier&&e.append("tier",a.tier),a.isActive!==void 0&&e.append("isActive",a.isActive.toString()),a.page&&e.append("page",a.page.toString()),a.limit&&e.append("limit",a.limit.toString()),a.sortBy&&e.append("sortBy",a.sortBy),a.sortOrder&&e.append("sortOrder",a.sortOrder),a.includeStats!==void 0&&e.append("includeStats",a.includeStats.toString()),await r.get(`${this.baseUrl}?${e}`)}async getOrganization(a){const{isDemoUser:t,getMockItem:o}=n();if(t.value){const e=await o("organizations",a);if(!e)throw new Error("Organização não encontrada");return e}return await r.get(`${this.baseUrl}/${a}`)}async createOrganization(a){return await r.post(this.baseUrl,a)}async updateOrganization(a,t){return await r.patch(`${this.baseUrl}/${a}`,t)}async deleteOrganization(a){return await r.delete(`${this.baseUrl}/${a}`)}async activateOrganization(a){const{isDemoUser:t}=n();if(t.value)throw new Error("Operação não permitida no modo demo");return await r.put(`${this.baseUrl}/${a}/activate`,{})}async suspendOrganization(a){const{isDemoUser:t}=n();if(t.value)throw new Error("Operação não permitida no modo demo");return await r.put(`${this.baseUrl}/${a}/suspend`,{})}getAvailableTiers(){return[{value:"free",title:"Gratuito",color:"success"},{value:"professional",title:"Profissional",color:"warning"},{value:"enterprise",title:"Empresarial",color:"purple"}]}getAvailableStatuses(){return[{value:"active",title:"Ativa",color:"success"},{value:"inactive",title:"Inativa",color:"error"},{value:"suspended",title:"Suspensa",color:"warning"}]}formatDate(a){return new Date(a).toLocaleString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}getTierColor(a){switch(a){case"free":return"success";case"professional":return"warning";case"enterprise":return"purple";default:return"grey"}}getStatusColor(a){switch(a){case"active":return"success";case"inactive":return"error";case"suspended":return"warning";default:return"grey"}}}const g=new s;export{g as o};
