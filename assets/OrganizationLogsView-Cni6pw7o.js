import{j as fe,d as f,h as T,D as pe,Z as p,y as a,n as t,a0 as y,u as ge,a1 as l,_ as v,aa as i,V as r,F as ye,ah as be,$ as k,U as xe,Y as we}from"./vendor-vue-BKuzT1x2.js";import{s as ee}from"./system-logs-C2z-hTzT.js";import{u as ke}from"./useDemoMode-DpDjlFnd.js";import{u as Ve}from"./auth--EmZq-C7.js";import{a as g,b as _e,V as ze}from"./VChip-BfcyEr4e.js";import{b,a as u,c as Ce,_ as De}from"./index-gFSB3kms.js";import{V as Se}from"./VAlert-BZmB2o6G.js";import{V as O,a as m}from"./VRow-C_u8820H.js";import{V as c,a as U,b as z}from"./VGrid-CBGRWS1y.js";import{V as Le}from"./VDialog-BfRWf8LZ.js";import{V as q,a as N}from"./VSelect-BorMXFwi.js";import{V as Te}from"./VDataTable-CaN6duAr.js";import{V as Oe}from"./VTextarea-CqCSgYZa.js";import"./auth.service-BozCwdnf.js";import"./vendor-utils-6xD0fNU8.js";import"./token-storage.service-BqAv9k07.js";import"./vendor-ui-Ca7vMALJ.js";import"./dialog-transition-B8nu4acL.js";import"./autofocus-Cv2p5X6o.js";import"./form-PEXhLZdP.js";import"./VList-Dg4abNUz.js";import"./ssrBoot-DJyMk-ri.js";import"./VMenu-BCjbZdow.js";import"./VPagination-B83tja3x.js";import"./VTable-SZOAnLd3.js";import"./filter-BaTOFc6H.js";const Ue={class:"organization-logs-view pa-6"},Me={class:"d-flex justify-space-between align-center mb-6"},Ee={key:0,class:"d-flex gap-2"},Fe={class:"text-h4 font-weight-bold text-primary"},Ie={class:"text-h4 font-weight-bold text-error"},Ne={class:"text-h4 font-weight-bold text-warning"},Ae={class:"text-h4 font-weight-bold text-info"},Be={class:"text-h4 font-weight-bold text-deep-purple"},je={class:"text-h4 font-weight-bold text-teal"},Re={class:"text-h6 font-weight-bold"},$e={class:"text-body-2 text-grey-darken-1 mb-2"},Pe={class:"text-caption"},qe={class:"px-4 py-3 d-flex align-center justify-space-between border-b"},Ge={class:"d-flex align-center gap-3"},He={class:"d-flex align-center"},We={class:"px-4 py-4 advanced-filters-section"},Je={class:"d-flex align-center gap-3"},Qe={class:"d-flex align-center gap-2"},Ye={class:"d-flex align-center justify-end gap-2"},Ze={key:0,class:"text-center py-8"},Ke={key:1,class:"text-center py-8"},Xe={class:"text-body-2 text-grey-darken-1 mb-4"},he={key:2,class:"text-center py-8"},et={class:"text-body-2 text-grey-darken-1"},tt={class:"text-no-wrap"},lt=["title"],at={key:1,class:"text-grey"},ot={class:"dialog-header"},st={class:"dialog-header-content"},it={class:"dialog-icon-wrapper"},nt={class:"dialog-content"},rt={class:"text-body-1 mb-4"},dt={class:"text-body-1 mb-4"},ut={class:"metadata-code"},mt={class:"text-body-1 mb-4 font-weight-medium"},vt={key:0,class:"text-subtitle-2 mb-2"},ct={key:1,class:"error-stack"},ft={class:"mb-3"},pt={class:"text-body-2"},gt={class:"mb-3"},yt={class:"mb-3"},bt={class:"d-flex align-center mt-1"},xt={class:"text-body-2"},wt={class:"mb-3"},kt={class:"text-body-2"},Vt={key:0,class:"mb-3"},_t={class:"text-body-2"},zt={key:1,class:"mb-3"},Ct={class:"text-body-2"},Dt={key:2,class:"mb-3"},St={class:"dialog-footer"},Lt={class:"dialog-actions"},Tt=fe({__name:"OrganizationLogsView",setup(Ot){const{isDemoUser:K}=ke(),te=Ve(),M=f(!1),A=f(null),C=f([]),V=f({totalLogs:0,errorCount:0,warningCount:0,infoCount:0,functionalities:[]}),E=f(!1),d=f(null),D=f(!1),G=f(null),F=f(""),I=f(""),H=f("timestamp"),W=f("desc"),x=T(()=>{if(K.value)return{id:"demo-org",name:"PRODEB Demo",slug:"prodeb-demo"};const s=te.user;return s?.organizationId&&s?.organizationName?{id:s.organizationId,name:s.organizationName,slug:s.organizationName.toLowerCase().replace(/\s+/g,"-").replace(/[^a-z0-9-]/g,"")}:{id:"default-org",name:"Sua Organização",slug:"default"}}),n=f({functionality:"",level:"",date:"",context:"",search:""}),S=T(()=>{let s=[...C.value];if(n.value.functionality&&(s=s.filter(e=>e.functionality===n.value.functionality)),n.value.level&&(s=s.filter(e=>e.level===n.value.level)),n.value.date){const e=n.value.date;s=s.filter(o=>new Date(o.timestamp).toISOString().split("T")[0]===e)}if(n.value.context&&(s=s.filter(e=>e.context&&e.context.toLowerCase().includes(n.value.context.toLowerCase()))),n.value.search){const e=n.value.search.toLowerCase();s=s.filter(o=>o.message.toLowerCase().includes(e))}return s.sort((e,o)=>{const _=new Date(e.timestamp).getTime();return new Date(o.timestamp).getTime()-_})}),le=T(()=>[...new Set(C.value.map(e=>e.functionality))].map(e=>({title:e.charAt(0).toUpperCase()+e.slice(1),value:e}))),ae=T(()=>[...new Set(C.value.map(e=>new Date(e.timestamp).toISOString().split("T")[0]))].sort().reverse().map(e=>({title:new Date(e+"T00:00:00").toLocaleDateString("pt-BR"),value:e}))),oe=T(()=>[...new Set(C.value.map(s=>new Date(s.timestamp).toISOString().split("T")[0]))]),se=[{title:"Info",value:"info"},{title:"Warning",value:"warning"},{title:"Error",value:"error"}],ie=[{title:"Timestamp",value:"timestamp"},{title:"Nível",value:"level"},{title:"Módulo",value:"functionality"},{title:"Contexto",value:"context"}],ne=[{title:"Mais recente",value:"desc"},{title:"Mais antigo",value:"asc"}],B=T(()=>{let s=0;return n.value.search&&s++,n.value.functionality&&s++,n.value.level&&s++,n.value.date&&s++,n.value.context&&s++,F.value&&s++,I.value&&s++,s}),re=[{title:"Timestamp",key:"timestamp",sortable:!0},{title:"Nível",key:"level",sortable:!0},{title:"Módulo",key:"functionality",sortable:!0},{title:"Mensagem",key:"message",sortable:!1},{title:"Contexto",key:"context",sortable:!0},{title:"Ações",key:"actions",sortable:!1,align:"center"}];function de(s){if(n.value.functionality="",n.value.level="",n.value.date="",n.value.context="",F.value="",I.value="",s==="errors")n.value.level="error";else if(s==="warnings")n.value.level="warning";else if(s==="today"){const e=new Date().toISOString().split("T")[0];n.value.date=e}else s==="webhooks"&&(n.value.functionality="webhook")}function ue(){n.value.functionality="",n.value.level="",n.value.date="",n.value.context="",n.value.search="",G.value=null,F.value="",I.value="",H.value="timestamp",W.value="desc"}let J=null;function w(){J&&clearTimeout(J),J=setTimeout(()=>{},300)}async function X(){if(!x.value?.id){C.value=[];return}M.value=!0,A.value=null;try{const s=await ee.getOrganizationLogsRange(x.value.id,7);C.value=s.map((e,o)=>({...e,timestamp:e.timestamp instanceof Date?e.timestamp:new Date(e.timestamp),id:`${new Date(e.timestamp).getTime()}-${o}`}))}catch(s){console.error("Error loading organization logs:",s),A.value="Erro ao carregar logs da organização. Tente novamente."}finally{M.value=!1}}async function me(){if(x.value?.id)try{const s=await ee.getSystemLogStats(x.value.id);V.value=s}catch(s){console.error("Error loading organization stats:",s)}}function Q(){X(),me()}function h(){if(!S.value.length)return;const s=["Timestamp,Level,Functionality,Context,Message",...S.value.map(L=>[new Date(L.timestamp).toISOString(),L.level,L.functionality,L.context||"",`"${L.message.replace(/"/g,'""')}"`].join(","))].join(`
`),e=new Blob([s],{type:"text/csv"}),o=window.URL.createObjectURL(e),_=document.createElement("a");_.href=o,_.download=`organization-logs-${x.value?.slug||"system"}-${new Date().toISOString().split("T")[0]}.csv`,_.click(),window.URL.revokeObjectURL(o)}function ve(s){d.value=s,E.value=!0}function j(s){return new Date(s).toLocaleString("pt-BR")}function R(s){switch(s){case"error":return"error";case"warning":return"warning";case"info":return"info";default:return"primary"}}function Y(s){switch(s){case"error":return"mdi-alert-circle";case"warning":return"mdi-alert";case"info":return"mdi-information";default:return"mdi-circle"}}function $(s){switch(s){case"webhook":return"pink";case"analysis":return"purple";case"git-integration":return"cyan";default:return"primary"}}function P(s){switch(s){case"webhook":return"mdi-webhook";case"analysis":return"mdi-chart-line";case"git-integration":return"mdi-git";default:return"mdi-cog"}}let Z=null;function ce(){Z&&clearTimeout(Z),Z=window.setTimeout(()=>{},500)}return pe(async()=>{await Q()}),(s,e)=>(v(),p("div",Ue,[a("div",Me,[e[16]||(e[16]=a("div",null,[a("h1",{class:"text-h4 font-weight-bold mb-2"},"Logs da Organização"),a("p",{class:"text-body-1 text-grey-darken-1 mb-0"}," Monitore as atividades e logs específicos da sua organização ")],-1)),ge(K)?y("",!0):(v(),p("div",Ee,[t(b,{color:"primary",onClick:Q,loading:M.value,"prepend-icon":"mdi-refresh"},{default:l(()=>[...e[14]||(e[14]=[i(" Atualizar ",-1)])]),_:1},8,["loading"]),t(b,{color:"success",onClick:h,disabled:!S.value.length,"prepend-icon":"mdi-download",class:"ml-2"},{default:l(()=>[...e[15]||(e[15]=[i(" Exportar ",-1)])]),_:1},8,["disabled"])]))]),t(Se,{type:"info",variant:"tonal",class:"mb-6",icon:"mdi-domain"},{default:l(()=>[a("div",null,[e[17]||(e[17]=a("strong",null,"Organização:",-1)),i(" "+r(x.value?.name||"Sistema Geral")+" ",1),e[18]||(e[18]=a("br",null,null,-1)),e[19]||(e[19]=a("span",{class:"text-caption"}," Visualizando logs específicos da sua organização ",-1))])]),_:1}),t(O,{class:"mb-6"},{default:l(()=>[t(m,{cols:"12",sm:"6",md:"2"},{default:l(()=>[t(c,{class:"text-center pa-4",color:"primary",variant:"tonal"},{default:l(()=>[a("div",Fe,r(V.value.totalLogs),1),e[20]||(e[20]=a("div",{class:"text-body-2 text-grey-darken-1 mb-1"},"Total",-1))]),_:1})]),_:1}),t(m,{cols:"12",sm:"6",md:"2"},{default:l(()=>[t(c,{class:"text-center pa-4",color:"error",variant:"tonal"},{default:l(()=>[a("div",Ie,r(V.value.errorCount),1),e[21]||(e[21]=a("div",{class:"text-body-2 text-grey-darken-1 mb-1"},"Erros",-1))]),_:1})]),_:1}),t(m,{cols:"12",sm:"6",md:"2"},{default:l(()=>[t(c,{class:"text-center pa-4",color:"warning",variant:"tonal"},{default:l(()=>[a("div",Ne,r(V.value.warningCount),1),e[22]||(e[22]=a("div",{class:"text-body-2 text-grey-darken-1 mb-1"},"Avisos",-1))]),_:1})]),_:1}),t(m,{cols:"12",sm:"6",md:"2"},{default:l(()=>[t(c,{class:"text-center pa-4",color:"info",variant:"tonal"},{default:l(()=>[a("div",Ae,r(V.value.infoCount),1),e[23]||(e[23]=a("div",{class:"text-body-2 text-grey-darken-1 mb-1"},"Info",-1))]),_:1})]),_:1}),t(m,{cols:"12",sm:"6",md:"2"},{default:l(()=>[t(c,{class:"text-center pa-4",color:"deep-purple",variant:"tonal"},{default:l(()=>[a("div",Be,r(V.value.functionalities.length),1),e[24]||(e[24]=a("div",{class:"text-body-2 text-grey-darken-1 mb-1"},"Módulos",-1))]),_:1})]),_:1}),t(m,{cols:"12",sm:"6",md:"2"},{default:l(()=>[t(c,{class:"text-center pa-4",color:"teal",variant:"tonal"},{default:l(()=>[a("div",je,r(oe.value.length),1),e[25]||(e[25]=a("div",{class:"text-body-2 text-grey-darken-1 mb-1"},"Dias",-1))]),_:1})]),_:1})]),_:1}),t(O,{class:"mb-6"},{default:l(()=>[t(m,{cols:"12"},{default:l(()=>[t(c,null,{default:l(()=>[t(U,null,{default:l(()=>[t(u,{class:"me-2"},{default:l(()=>[...e[26]||(e[26]=[i("mdi-view-module",-1)])]),_:1}),e[27]||(e[27]=i(" Atividade por Módulo ",-1))]),_:1}),t(z,null,{default:l(()=>[t(O,null,{default:l(()=>[(v(!0),p(ye,null,be(V.value.functionalities,o=>(v(),k(m,{key:o.name,cols:"12",sm:"6",md:"4"},{default:l(()=>[t(c,{variant:"outlined"},{default:l(()=>[t(z,{class:"text-center"},{default:l(()=>[t(u,{icon:P(o.name),size:"32",color:$(o.name),class:"mb-2"},null,8,["icon","color"]),a("div",Re,r(o.count),1),a("div",$e,r(o.name),1),a("div",Pe," Última atividade: "+r(j(o.lastActivity)),1)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),t(c,{class:"mb-6 filter-card"},{default:l(()=>[a("div",qe,[a("div",Ge,[t(q,{modelValue:n.value.search,"onUpdate:modelValue":e[0]||(e[0]=o=>n.value.search=o),label:"Buscar nas mensagens...","prepend-inner-icon":"mdi-magnify",variant:"solo",density:"compact","hide-details":"",clearable:"",style:{"min-width":"280px"},onInput:ce},null,8,["modelValue"]),B.value>0?(v(),k(g,{key:0,size:"small",color:"primary",variant:"tonal",class:"ml-2"},{default:l(()=>[i(r(B.value)+" filtro"+r(B.value>1?"s":""),1)]),_:1})):y("",!0)]),a("div",He,[t(_e,{modelValue:G.value,"onUpdate:modelValue":[e[1]||(e[1]=o=>G.value=o),de],variant:"outlined",color:"primary"},{default:l(()=>[t(g,{value:"errors",size:"small"},{default:l(()=>[t(u,{start:""},{default:l(()=>[...e[28]||(e[28]=[i("mdi-alert-circle",-1)])]),_:1}),e[29]||(e[29]=i(" Erros ",-1))]),_:1}),t(g,{value:"warnings",size:"small"},{default:l(()=>[t(u,{start:""},{default:l(()=>[...e[30]||(e[30]=[i("mdi-alert",-1)])]),_:1}),e[31]||(e[31]=i(" Avisos ",-1))]),_:1}),t(g,{value:"today",size:"small"},{default:l(()=>[t(u,{start:""},{default:l(()=>[...e[32]||(e[32]=[i("mdi-clock-check",-1)])]),_:1}),e[33]||(e[33]=i(" Hoje ",-1))]),_:1}),t(g,{value:"webhooks",size:"small"},{default:l(()=>[t(u,{start:""},{default:l(()=>[...e[34]||(e[34]=[i("mdi-webhook",-1)])]),_:1}),e[35]||(e[35]=i(" Webhooks ",-1))]),_:1})]),_:1},8,["modelValue"]),t(b,{color:D.value?"primary":"default",variant:D.value?"flat":"outlined",size:"small",onClick:e[2]||(e[2]=o=>D.value=!D.value),class:"ml-1"},{default:l(()=>[t(u,null,{default:l(()=>[i("mdi-filter"+r(D.value?"-check":""),1)]),_:1}),e[36]||(e[36]=i(" Filtros ",-1))]),_:1},8,["color","variant"]),B.value>0?(v(),k(b,{key:0,variant:"outlined",size:"small",color:"error",onClick:ue,class:"ml-2"},{default:l(()=>[t(u,{start:""},{default:l(()=>[...e[37]||(e[37]=[i("mdi-filter-remove",-1)])]),_:1}),e[38]||(e[38]=i(" Limpar ",-1))]),_:1})):y("",!0)])]),t(ze,null,{default:l(()=>[xe(a("div",We,[t(O,null,{default:l(()=>[t(m,{cols:"12",sm:"6",md:"3"},{default:l(()=>[t(N,{modelValue:n.value.level,"onUpdate:modelValue":[e[3]||(e[3]=o=>n.value.level=o),w],label:"Nível",items:se,variant:"outlined",density:"compact",clearable:"","prepend-inner-icon":"mdi-alert-box"},null,8,["modelValue"])]),_:1}),t(m,{cols:"12",sm:"6",md:"3"},{default:l(()=>[t(N,{modelValue:n.value.functionality,"onUpdate:modelValue":[e[4]||(e[4]=o=>n.value.functionality=o),w],label:"Módulo",items:le.value,variant:"outlined",density:"compact",clearable:"","prepend-inner-icon":"mdi-view-module"},null,8,["modelValue","items"])]),_:1}),t(m,{cols:"12",sm:"6",md:"3"},{default:l(()=>[t(q,{modelValue:n.value.context,"onUpdate:modelValue":[e[5]||(e[5]=o=>n.value.context=o),w],label:"Contexto",variant:"outlined",density:"compact",clearable:"","prepend-inner-icon":"mdi-tag"},null,8,["modelValue"])]),_:1}),t(m,{cols:"12",sm:"6",md:"3"},{default:l(()=>[t(N,{modelValue:n.value.date,"onUpdate:modelValue":[e[6]||(e[6]=o=>n.value.date=o),w],label:"Data",items:ae.value,variant:"outlined",density:"compact",clearable:"","prepend-inner-icon":"mdi-calendar"},null,8,["modelValue","items"])]),_:1}),t(m,{cols:"12",md:"4"},{default:l(()=>[a("div",Je,[t(u,{color:"medium-emphasis"},{default:l(()=>[...e[39]||(e[39]=[i("mdi-calendar-range",-1)])]),_:1}),e[40]||(e[40]=a("div",{class:"text-caption text-medium-emphasis"},"Período:",-1)),t(q,{modelValue:F.value,"onUpdate:modelValue":e[7]||(e[7]=o=>F.value=o),type:"date",label:"De",variant:"outlined",density:"compact","hide-details":"",onChange:w,class:"ml-2"},null,8,["modelValue"]),t(q,{modelValue:I.value,"onUpdate:modelValue":e[8]||(e[8]=o=>I.value=o),type:"date",label:"Até",variant:"outlined",density:"compact","hide-details":"",onChange:w,class:"ml-2"},null,8,["modelValue"])])]),_:1}),t(m,{cols:"12",md:"4"},{default:l(()=>[a("div",Qe,[t(N,{modelValue:H.value,"onUpdate:modelValue":[e[9]||(e[9]=o=>H.value=o),w],label:"Ordenar por",items:ie,variant:"outlined",density:"compact","prepend-inner-icon":"mdi-sort"},null,8,["modelValue"]),t(N,{modelValue:W.value,"onUpdate:modelValue":[e[10]||(e[10]=o=>W.value=o),w],label:"Ordem",items:ne,variant:"outlined",density:"compact",class:"ml-2"},null,8,["modelValue"])])]),_:1}),t(m,{cols:"12",md:"4"},{default:l(()=>[a("div",Ye,[t(b,{variant:"outlined","prepend-icon":"mdi-download",disabled:!S.value.length,onClick:h},{default:l(()=>[...e[41]||(e[41]=[i(" Exportar ",-1)])]),_:1},8,["disabled"]),t(b,{color:"primary","prepend-icon":"mdi-refresh",onClick:Q,class:"ml-2"},{default:l(()=>[...e[42]||(e[42]=[i(" Atualizar ",-1)])]),_:1})])]),_:1})]),_:1})],512),[[we,D.value]])]),_:1})]),_:1}),t(c,null,{default:l(()=>[M.value?(v(),p("div",Ze,[t(Ce,{indeterminate:"",color:"primary"}),e[43]||(e[43]=a("div",{class:"mt-4 text-body-1"},"Carregando logs da organização...",-1))])):A.value?(v(),p("div",Ke,[t(u,{size:"64",color:"error",class:"mb-4"},{default:l(()=>[...e[44]||(e[44]=[i("mdi-alert-circle-outline",-1)])]),_:1}),e[46]||(e[46]=a("div",{class:"text-h6 mb-2"},"Erro ao carregar logs",-1)),a("div",Xe,r(A.value),1),t(b,{color:"primary",onClick:X},{default:l(()=>[...e[45]||(e[45]=[i("Tentar Novamente",-1)])]),_:1})])):S.value.length?(v(),k(Te,{key:3,headers:re,items:S.value,loading:M.value,"item-key":"id",class:"elevation-0","items-per-page":50,"items-per-page-options":[25,50,100]},{"item.timestamp":l(({item:o})=>[a("div",tt,r(j(o.timestamp)),1)]),"item.level":l(({item:o})=>[t(g,{color:R(o.level),size:"small",variant:"tonal"},{default:l(()=>[t(u,{icon:Y(o.level),size:"16",class:"me-1"},null,8,["icon"]),i(" "+r(o.level.toUpperCase()),1)]),_:2},1032,["color"])]),"item.functionality":l(({item:o})=>[t(g,{size:"small",variant:"outlined",color:$(o.functionality)},{default:l(()=>[t(u,{icon:P(o.functionality),size:"16",class:"me-1"},null,8,["icon"]),i(" "+r(o.functionality),1)]),_:2},1032,["color"])]),"item.message":l(({item:o})=>[a("div",{class:"text-truncate",style:{"max-width":"350px"},title:o.message},r(o.message),9,lt)]),"item.context":l(({item:o})=>[o.context?(v(),k(g,{key:0,size:"small",variant:"outlined",color:"primary"},{default:l(()=>[i(r(o.context),1)]),_:2},1024)):(v(),p("span",at,"-"))]),"item.actions":l(({item:o})=>[t(b,{icon:"mdi-eye",variant:"text",size:"small",onClick:_=>ve(o)},null,8,["onClick"])]),_:2},1032,["items","loading"])):(v(),p("div",he,[t(u,{size:"64",color:"grey",class:"mb-4"},{default:l(()=>[...e[47]||(e[47]=[i("mdi-file-search-outline",-1)])]),_:1}),e[48]||(e[48]=a("div",{class:"text-h6 mb-2"},"Nenhum log encontrado",-1)),a("div",et,r(x.value?"Esta organização não possui logs com os filtros aplicados":"Nenhum log encontrado para sua organização"),1)]))]),_:1}),t(Le,{modelValue:E.value,"onUpdate:modelValue":e[13]||(e[13]=o=>E.value=o),"max-width":"900px",persistent:"",transition:"dialog-bottom-transition",class:"modern-dialog"},{default:l(()=>[d.value?(v(),k(c,{key:0,elevation:"24",class:"dialog-card"},{default:l(()=>[a("div",ot,[a("div",st,[a("div",it,[t(u,{icon:Y(d.value.level),color:R(d.value.level),size:"28",class:"dialog-icon"},null,8,["icon","color"])]),e[49]||(e[49]=a("div",{class:"dialog-title-section"},[a("h2",{class:"dialog-title"},"Detalhes do Log da Organização"),a("p",{class:"dialog-subtitle"},"Informações detalhadas sobre este registro de log organizacional")],-1))]),t(b,{icon:"mdi-close",variant:"text",size:"40",class:"dialog-close-btn",onClick:e[11]||(e[11]=o=>E.value=!1)})]),a("div",nt,[t(O,null,{default:l(()=>[t(m,{cols:"12",md:"8"},{default:l(()=>[t(c,{variant:"outlined"},{default:l(()=>[t(U,null,{default:l(()=>[t(u,{class:"mr-2"},{default:l(()=>[...e[50]||(e[50]=[i("mdi-information-outline",-1)])]),_:1}),e[51]||(e[51]=i(" Informações Principais ",-1))]),_:1}),t(z,null,{default:l(()=>[t(O,null,{default:l(()=>[t(m,{cols:"12",sm:"6"},{default:l(()=>[e[52]||(e[52]=a("div",{class:"text-subtitle-2 mb-2"},"Timestamp",-1)),a("div",rt,r(j(d.value.timestamp)),1)]),_:1}),t(m,{cols:"12",sm:"6"},{default:l(()=>[e[53]||(e[53]=a("div",{class:"text-subtitle-2 mb-2"},"Nível",-1)),t(g,{color:R(d.value.level),size:"default",variant:"tonal",class:"mb-4"},{default:l(()=>[t(u,{icon:Y(d.value.level),size:"16",class:"me-2"},null,8,["icon"]),i(" "+r(d.value.level.toUpperCase()),1)]),_:1},8,["color"])]),_:1}),t(m,{cols:"12",sm:"6"},{default:l(()=>[e[54]||(e[54]=a("div",{class:"text-subtitle-2 mb-2"},"Módulo",-1)),t(g,{size:"default",variant:"outlined",class:"mb-4",color:$(d.value.functionality)},{default:l(()=>[t(u,{icon:P(d.value.functionality),size:"16",class:"me-2"},null,8,["icon"]),i(" "+r(d.value.functionality),1)]),_:1},8,["color"])]),_:1}),t(m,{cols:"12",sm:"6"},{default:l(()=>[e[55]||(e[55]=a("div",{class:"text-subtitle-2 mb-2"},"Contexto",-1)),a("div",dt,r(d.value.context||"-"),1)]),_:1})]),_:1})]),_:1})]),_:1}),t(c,{variant:"outlined",class:"mt-4"},{default:l(()=>[t(U,null,{default:l(()=>[t(u,{class:"mr-2"},{default:l(()=>[...e[56]||(e[56]=[i("mdi-message-text",-1)])]),_:1}),e[57]||(e[57]=i(" Mensagem ",-1))]),_:1}),t(z,null,{default:l(()=>[t(Oe,{"model-value":d.value.message,variant:"outlined",readonly:"","auto-grow":"",rows:"4",class:"log-message-field"},null,8,["model-value"])]),_:1})]),_:1}),d.value.metadata?(v(),k(c,{key:0,variant:"outlined",class:"mt-4"},{default:l(()=>[t(U,null,{default:l(()=>[t(u,{class:"mr-2"},{default:l(()=>[...e[58]||(e[58]=[i("mdi-code-json",-1)])]),_:1}),e[59]||(e[59]=i(" Metadados ",-1))]),_:1}),t(z,null,{default:l(()=>[a("div",ut,r(JSON.stringify(d.value.metadata,null,2)),1)]),_:1})]),_:1})):y("",!0),d.value.error?(v(),k(c,{key:1,variant:"outlined",class:"mt-4",color:"error"},{default:l(()=>[t(U,null,{default:l(()=>[t(u,{class:"mr-2"},{default:l(()=>[...e[60]||(e[60]=[i("mdi-alert-circle",-1)])]),_:1}),e[61]||(e[61]=i(" Detalhes do Erro ",-1))]),_:1}),t(z,null,{default:l(()=>[e[62]||(e[62]=a("div",{class:"text-subtitle-2 mb-2"},"Mensagem do Erro",-1)),a("div",mt,r(d.value.error.message),1),d.value.error.stack?(v(),p("div",vt,"Stack Trace")):y("",!0),d.value.error.stack?(v(),p("div",ct,r(d.value.error.stack),1)):y("",!0)]),_:1})]),_:1})):y("",!0)]),_:1}),t(m,{cols:"12",md:"4",class:"sidebar-column"},{default:l(()=>[t(c,{variant:"outlined",class:"sticky-card"},{default:l(()=>[t(U,null,{default:l(()=>[t(u,{class:"mr-2"},{default:l(()=>[...e[63]||(e[63]=[i("mdi-clipboard-text",-1)])]),_:1}),e[64]||(e[64]=i(" Resumo ",-1))]),_:1}),t(z,null,{default:l(()=>[a("div",ft,[e[65]||(e[65]=a("strong",null,"Organização:",-1)),a("div",pt,r(x.value?.name||"Sistema"),1)]),a("div",gt,[e[66]||(e[66]=a("strong",null,"Nível:",-1)),t(g,{color:R(d.value.level),size:"small",variant:"tonal",class:"ml-2"},{default:l(()=>[i(r(d.value.level.toUpperCase()),1)]),_:1},8,["color"])]),a("div",yt,[e[67]||(e[67]=a("strong",null,"Módulo:",-1)),a("div",bt,[t(u,{icon:P(d.value.functionality),color:$(d.value.functionality),size:"16",class:"me-2"},null,8,["icon","color"]),a("span",xt,r(d.value.functionality),1)])]),a("div",wt,[e[68]||(e[68]=a("strong",null,"Data/Hora:",-1)),a("div",kt,r(j(d.value.timestamp)),1)]),d.value.context?(v(),p("div",Vt,[e[69]||(e[69]=a("strong",null,"Contexto:",-1)),a("div",_t,r(d.value.context),1)])):y("",!0),d.value.metadata?(v(),p("div",zt,[e[70]||(e[70]=a("strong",null,"Metadados:",-1)),a("div",Ct,r(Object.keys(d.value.metadata).length)+" propriedades ",1)])):y("",!0),d.value.error?(v(),p("div",Dt,[e[73]||(e[73]=a("strong",null,"Erro:",-1)),t(g,{size:"small",color:"error",variant:"tonal"},{default:l(()=>[t(u,{start:"",size:"14"},{default:l(()=>[...e[71]||(e[71]=[i("mdi-alert-circle",-1)])]),_:1}),e[72]||(e[72]=i(" Presente ",-1))]),_:1})])):y("",!0)]),_:1})]),_:1})]),_:1})]),_:1})]),a("div",St,[a("div",Lt,[t(b,{color:"primary",variant:"elevated",size:"large",class:"action-btn primary-btn",onClick:e[12]||(e[12]=o=>E.value=!1)},{default:l(()=>[t(u,{start:""},{default:l(()=>[...e[74]||(e[74]=[i("mdi-check",-1)])]),_:1}),e[75]||(e[75]=i(" Fechar ",-1))]),_:1})])])]),_:1})):y("",!0)]),_:1},8,["modelValue"])]))}}),al=De(Tt,[["__scopeId","data-v-d32bad66"]]);export{al as default};
