import{j as k,w as ge,p as W,h as q,z as b,q as S,x as N,v as te,f as L,b as it,c as dt,s as ct,t as C,F as M,P as ft,y as gt,a4 as pe,m as J,Z as X,a1 as mt,n as vt}from"./vendor-vue-BvKyvIVR.js";import{p as V,s as j,Q as Te,q as ie,g as z,A as le,f as U,I as O,R as ht,n as B,S as yt,D as Y,T as bt,J as Ve,U as ae,V as Z,k as me,y as ve,W as de,P as ce,X as xe,Y as ee,l as pt}from"./vendor-ui-Dz8XL-co.js";import{V as Se}from"./VPagination-C7VPvwfo.js";import{a as Fe,d as he}from"./VSelect-JVxEisdn.js";import{u as xt,V as Pe}from"./VIcon-CM-KW5Qw.js";import{w as St,L as Pt,x as wt,q as ye,f as Ce}from"./VGrid-CuJrScxf.js";import{a as kt}from"./VChip-BzUv3cXC.js";import{V as we,m as It}from"./VTable-BhCG_aMe.js";import{u as Dt,m as Tt}from"./filter-3ET2mAtK.js";import{V as Vt}from"./VList-CaAoEaF2.js";const Ft=V({page:{type:[Number,String],default:1},itemsPerPage:{type:[Number,String],default:10}},"DataTable-paginate"),Be=Symbol.for("vuetify:data-table-pagination");function Ct(e){const t=j(e,"page",void 0,a=>Number(a??1)),l=j(e,"itemsPerPage",void 0,a=>Number(a??10));return{page:t,itemsPerPage:l}}function Bt(e){const{page:t,itemsPerPage:l,itemsLength:a}=e,n=k(()=>l.value===-1?0:l.value*(t.value-1)),r=k(()=>l.value===-1?a.value:Math.min(a.value,n.value+l.value)),o=k(()=>l.value===-1||a.value===0?1:Math.ceil(a.value/l.value));ge([t,o],()=>{t.value>o.value&&(t.value=o.value)});function i(f){l.value=f,t.value=1}function s(){t.value=ie(t.value+1,1,o.value)}function u(){t.value=ie(t.value-1,1,o.value)}function c(f){t.value=ie(f,1,o.value)}const m={page:t,itemsPerPage:l,startIndex:n,stopIndex:r,pageCount:o,itemsLength:a,nextPage:s,prevPage:u,setPage:c,setItemsPerPage:i};return W(Be,m),m}function _t(){const e=q(Be);if(!e)throw new Error("Missing pagination!");return e}function Et(e){const t=Te("usePaginatedItems"),{items:l,startIndex:a,stopIndex:n,itemsPerPage:r}=e,o=k(()=>r.value<=0?l.value:l.value.slice(a.value,n.value));return ge(o,i=>{t.emit("update:currentItems",i)},{immediate:!0}),{paginatedItems:o}}const _e=V({prevIcon:{type:O,default:"$prev"},nextIcon:{type:O,default:"$next"},firstIcon:{type:O,default:"$first"},lastIcon:{type:O,default:"$last"},itemsPerPageText:{type:String,default:"$vuetify.dataFooter.itemsPerPageText"},pageText:{type:String,default:"$vuetify.dataFooter.pageText"},firstPageLabel:{type:String,default:"$vuetify.dataFooter.firstPage"},prevPageLabel:{type:String,default:"$vuetify.dataFooter.prevPage"},nextPageLabel:{type:String,default:"$vuetify.dataFooter.nextPage"},lastPageLabel:{type:String,default:"$vuetify.dataFooter.lastPage"},itemsPerPageOptions:{type:Array,default:()=>[{value:10,title:"10"},{value:25,title:"25"},{value:50,title:"50"},{value:100,title:"100"},{value:-1,title:"$vuetify.dataFooter.itemsPerPageAll"}]},showCurrentPage:Boolean},"VDataTableFooter"),ke=z()({name:"VDataTableFooter",props:_e(),setup(e,t){let{slots:l}=t;const{t:a}=le(),{page:n,pageCount:r,startIndex:o,stopIndex:i,itemsLength:s,itemsPerPage:u,setItemsPerPage:c}=_t(),m=k(()=>e.itemsPerPageOptions.map(f=>typeof f=="number"?{value:f,title:f===-1?a("$vuetify.dataFooter.itemsPerPageAll"):String(f)}:{...f,title:isNaN(Number(f.title))?a(f.title):f.title}));return U(()=>{const f=Se.filterProps(e);return b("div",{class:"v-data-table-footer"},[l.prepend?.(),b("div",{class:"v-data-table-footer__items-per-page"},[b("span",{"aria-label":a(e.itemsPerPageText)},[a(e.itemsPerPageText)]),S(Fe,{items:m.value,modelValue:u.value,"onUpdate:modelValue":v=>c(Number(v)),density:"compact",variant:"outlined",hideDetails:!0},null)]),b("div",{class:"v-data-table-footer__info"},[b("div",null,[a(e.pageText,s.value?o.value+1:0,i.value,s.value)])]),b("div",{class:"v-data-table-footer__pagination"},[S(Se,N({modelValue:n.value,"onUpdate:modelValue":v=>n.value=v,density:"comfortable",firstAriaLabel:e.firstPageLabel,lastAriaLabel:e.lastPageLabel,length:r.value,nextAriaLabel:e.nextPageLabel,previousAriaLabel:e.prevPageLabel,rounded:!0,showFirstLastPage:!0,totalVisible:e.showCurrentPage?1:0,variant:"plain"},f),null)])])}),{}}}),K=ht({align:{type:String,default:"start"},fixed:{type:[Boolean,String],default:!1},fixedOffset:[Number,String],fixedEndOffset:[Number,String],height:[Number,String],lastFixed:Boolean,firstFixedEnd:Boolean,noPadding:Boolean,indent:[Number,String],empty:Boolean,tag:String,width:[Number,String],maxWidth:[Number,String],nowrap:Boolean},(e,t)=>{let{slots:l}=t;const a=e.tag??"td",n=typeof e.fixed=="string"?e.fixed:e.fixed?"start":"none";return S(a,{class:te(["v-data-table__td",{"v-data-table-column--fixed":n==="start","v-data-table-column--fixed-end":n==="end","v-data-table-column--last-fixed":e.lastFixed,"v-data-table-column--first-fixed-end":e.firstFixedEnd,"v-data-table-column--no-padding":e.noPadding,"v-data-table-column--nowrap":e.nowrap,"v-data-table-column--empty":e.empty},`v-data-table-column--align-${e.align}`]),style:{height:B(e.height),width:B(e.width),maxWidth:B(e.maxWidth),left:n==="start"?B(e.fixedOffset||null):void 0,right:n==="end"?B(e.fixedEndOffset||null):void 0,paddingInlineStart:e.indent?B(e.indent):void 0}},{default:()=>[l.default?.()]})}),Ot=V({headers:Array},"DataTable-header"),Ee=Symbol.for("vuetify:data-table-headers"),Oe={title:"",sortable:!1},At={...Oe,width:48};function Nt(){const t=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).map(l=>({element:l,priority:0}));return{enqueue:(l,a)=>{let n=!1;for(let r=0;r<t.length;r++)if(t[r].priority>a){t.splice(r,0,{element:l,priority:a}),n=!0;break}n||t.push({element:l,priority:a})},size:()=>t.length,count:()=>{let l=0;if(!t.length)return 0;const a=Math.floor(t[0].priority);for(let n=0;n<t.length;n++)Math.floor(t[n].priority)===a&&(l+=1);return l},dequeue:()=>t.shift()}}function fe(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];if(!e.children)t.push(e);else for(const l of e.children)fe(l,t);return t}function Ae(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:new Set;for(const l of e)l.key&&t.add(l.key),l.children&&Ae(l.children,t);return t}function Rt(e){if(e.key){if(e.key==="data-table-group")return Oe;if(["data-table-expand","data-table-select"].includes(e.key))return At}}function be(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return e.children?Math.max(t,...e.children.map(l=>be(l,t+1))):t}function $t(e){let t=!1;function l(r,o){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"none";if(r)if(i!=="none"&&(r.fixed=i),r.fixed===!0&&(r.fixed="start"),r.fixed===o)if(r.children)if(o==="start")for(let s=r.children.length-1;s>=0;s--)l(r.children[s],o,o);else for(let s=0;s<r.children.length;s++)l(r.children[s],o,o);else!t&&o==="start"?r.lastFixed=!0:!t&&o==="end"?r.firstFixedEnd=!0:isNaN(Number(r.width))?yt(`Multiple fixed columns should have a static width (key: ${r.key})`):r.minWidth=Math.max(Number(r.width)||0,Number(r.minWidth)||0),t=!0;else if(r.children)if(o==="start")for(let s=r.children.length-1;s>=0;s--)l(r.children[s],o);else for(let s=0;s<r.children.length;s++)l(r.children[s],o);else t=!1}for(let r=e.length-1;r>=0;r--)l(e[r],"start");for(let r=0;r<e.length;r++)l(e[r],"end");let a=0;for(let r=0;r<e.length;r++)a=Ne(e[r],a);let n=0;for(let r=e.length-1;r>=0;r--)n=Re(e[r],n)}function Ne(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(!e)return t;if(e.children){e.fixedOffset=t;for(const l of e.children)t=Ne(l,t)}else e.fixed&&e.fixed!=="end"&&(e.fixedOffset=t,t+=parseFloat(e.width||"0")||0);return t}function Re(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(!e)return t;if(e.children){e.fixedEndOffset=t;for(const l of e.children)t=Re(l,t)}else e.fixed==="end"&&(e.fixedEndOffset=t,t+=parseFloat(e.width||"0")||0);return t}function Ht(e,t){const l=[];let a=0;const n=Nt(e);for(;n.size()>0;){let o=n.count();const i=[];let s=1;for(;o>0;){const{element:u,priority:c}=n.dequeue(),m=t-a-be(u);if(i.push({...u,rowspan:m??1,colspan:u.children?fe(u).length:1}),u.children)for(const f of u.children){const v=c%1+s/Math.pow(10,a+2);n.enqueue(f,a+m+v)}s+=1,o-=1}a+=1,l.push(i)}return{columns:e.map(o=>fe(o)).flat(),headers:l}}function $e(e){const t=[];for(const l of e){const a={...Rt(l),...l},n=a.key??(typeof a.value=="string"?a.value:null),r=a.value??n??null,o={...a,key:n,value:r,sortable:a.sortable??(a.key!=null||!!a.sort),children:a.children?$e(a.children):void 0};t.push(o)}return t}function Gt(e,t){const l=L([]),a=L([]),n=L({}),r=L({}),o=L({});it(()=>{const u=(e.headers||Object.keys(e.items[0]??{}).map(h=>({key:h,title:dt(h)}))).slice(),c=Ae(u);t?.groupBy?.value.length&&!c.has("data-table-group")&&u.unshift({key:"data-table-group",title:"Group"}),t?.showSelect?.value&&!c.has("data-table-select")&&u.unshift({key:"data-table-select"}),t?.showExpand?.value&&!c.has("data-table-expand")&&u.push({key:"data-table-expand"});const m=$e(u);$t(m);const f=Math.max(...m.map(h=>be(h)))+1,v=Ht(m,f);l.value=v.headers,a.value=v.columns;const P=v.headers.flat(1);for(const h of P)h.key&&(h.sortable&&(h.sort&&(n.value[h.key]=h.sort),h.sortRaw&&(r.value[h.key]=h.sortRaw)),h.filter&&(o.value[h.key]=h.filter))});const i={headers:l,columns:a,sortFunctions:n,sortRawFunctions:r,filterFunctions:o};return W(Ee,i),i}function ne(){const e=q(Ee);if(!e)throw new Error("Missing headers!");return e}const Lt={showSelectAll:!1,allSelected:()=>[],select:e=>{let{items:t,value:l}=e;return new Set(l?[t[0]?.value]:[])},selectAll:e=>{let{selected:t}=e;return t}},He={showSelectAll:!0,allSelected:e=>{let{currentPage:t}=e;return t},select:e=>{let{items:t,value:l,selected:a}=e;for(const n of t)l?a.add(n.value):a.delete(n.value);return a},selectAll:e=>{let{value:t,currentPage:l,selected:a}=e;return He.select({items:l,value:t,selected:a})}},Mt={showSelectAll:!0,allSelected:e=>{let{allItems:t}=e;return t},select:e=>{let{items:t,value:l,selected:a}=e;for(const n of t)l?a.add(n.value):a.delete(n.value);return a},selectAll:e=>{let{value:t,allItems:l}=e;return new Set(t?l.map(a=>a.value):[])}},jt=V({showSelect:Boolean,selectStrategy:{type:[String,Object],default:"page"},modelValue:{type:Array,default:()=>[]},valueComparator:Function},"DataTable-select"),Ge=Symbol.for("vuetify:data-table-selection");function Wt(e,t){let{allItems:l,currentPage:a}=t;const n=j(e,"modelValue",e.modelValue,y=>{const p=e.valueComparator;return p?new Set(Y(y).map(D=>l.value.find(x=>p(D,x.value))?.value??D)):new Set(Y(y).map(D=>bt(D)?l.value.find(x=>D===x.value)?.value??D:l.value.find(x=>Ve(D,x.value))?.value??D))},y=>[...y.values()]),r=k(()=>l.value.filter(y=>y.selectable)),o=k(()=>a.value.filter(y=>y.selectable)),i=k(()=>{if(typeof e.selectStrategy=="object")return e.selectStrategy;switch(e.selectStrategy){case"single":return Lt;case"all":return Mt;case"page":default:return He}}),s=ct(null);function u(y){return Y(y).every(p=>n.value.has(p.value))}function c(y){return Y(y).some(p=>n.value.has(p.value))}function m(y,p){const D=i.value.select({items:y,value:p,selected:new Set(n.value)});n.value=D}function f(y,p,D){const x=[];if(p=p??a.value.findIndex(_=>_.value===y.value),e.selectStrategy!=="single"&&D?.shiftKey&&s.value!==null){const[_,H]=[s.value,p].sort((A,w)=>A-w);x.push(...a.value.slice(_,H+1).filter(A=>A.selectable))}else x.push(y),s.value=p;m(x,!u([y]))}function v(y){const p=i.value.selectAll({value:y,allItems:r.value,currentPage:o.value,selected:new Set(n.value)});n.value=p}const P=k(()=>n.value.size>0),h=k(()=>{const y=i.value.allSelected({allItems:r.value,currentPage:o.value});return!!y.length&&u(y)}),d=C(()=>i.value.showSelectAll),T={toggleSelect:f,select:m,selectAll:v,isSelected:u,isSomeSelected:c,someSelected:P,allSelected:h,showSelectAll:d,lastSelectedIndex:s,selectStrategy:i};return W(Ge,T),T}function re(){const e=q(Ge);if(!e)throw new Error("Missing selection!");return e}const qt=V({sortBy:{type:Array,default:()=>[]},customKeySort:Object,multiSort:Boolean,mustSort:Boolean},"DataTable-sort"),Le=Symbol.for("vuetify:data-table-sort");function zt(e){const t=j(e,"sortBy"),l=C(()=>e.mustSort),a=C(()=>e.multiSort);return{sortBy:t,mustSort:l,multiSort:a}}function Kt(e){const{sortBy:t,mustSort:l,multiSort:a,page:n}=e,r=s=>{if(s.key==null)return;let u=t.value.map(m=>({...m}))??[];const c=u.find(m=>m.key===s.key);c?c.order==="desc"?l.value&&u.length===1?c.order="asc":u=u.filter(m=>m.key!==s.key):c.order="desc":a.value?u.push({key:s.key,order:"asc"}):u=[{key:s.key,order:"asc"}],t.value=u,n&&(n.value=1)};function o(s){return!!t.value.find(u=>u.key===s.key)}const i={sortBy:t,toggleSort:r,isSorted:o};return W(Le,i),i}function Me(){const e=q(Le);if(!e)throw new Error("Missing sort!");return e}function Ut(e,t,l,a){const n=le();return{sortedItems:k(()=>l.value.length?Qt(t.value,l.value,n.current.value,{transform:a?.transform,sortFunctions:{...e.customKeySort,...a?.sortFunctions?.value},sortRawFunctions:a?.sortRawFunctions?.value}):t.value)}}function Qt(e,t,l,a){const n=new Intl.Collator(l,{sensitivity:"accent",usage:"sort"});return e.map(o=>[o,a?.transform?a.transform(o):o]).sort((o,i)=>{for(let s=0;s<t.length;s++){let u=!1;const c=t[s].key,m=t[s].order??"asc";if(m===!1)continue;let f=ae(o[1],c),v=ae(i[1],c),P=o[0].raw,h=i[0].raw;if(m==="desc"&&([f,v]=[v,f],[P,h]=[h,P]),a?.sortRawFunctions?.[c]){const d=a.sortRawFunctions[c](P,h);if(d==null)continue;if(u=!0,d)return d}if(a?.sortFunctions?.[c]){const d=a.sortFunctions[c](f,v);if(d==null)continue;if(u=!0,d)return d}if(!u&&(f instanceof Date&&v instanceof Date&&(f=f.getTime(),v=v.getTime()),[f,v]=[f,v].map(d=>d!=null?d.toString().toLocaleLowerCase():d),f!==v))return Z(f)&&Z(v)?0:Z(f)?-1:Z(v)?1:!isNaN(f)&&!isNaN(v)?Number(f)-Number(v):n.compare(f,v)}return 0}).map(o=>{let[i]=o;return i})}const je=V({color:String,disableSort:Boolean,fixedHeader:Boolean,multiSort:Boolean,sortAscIcon:{type:O,default:"$sortAsc"},sortDescIcon:{type:O,default:"$sortDesc"},headerProps:{type:Object},sticky:Boolean,...ye(),...ve(),...wt()},"VDataTableHeaders"),Ie=z()({name:"VDataTableHeaders",props:je(),setup(e,t){let{slots:l}=t;const{t:a}=le(),{toggleSort:n,sortBy:r,isSorted:o}=Me(),{someSelected:i,allSelected:s,selectAll:u,showSelectAll:c}=re(),{columns:m,headers:f}=ne(),{loaderClasses:v}=St(e);function P(w,g){if(!(e.sticky||e.fixedHeader)&&!w.fixed)return;const I=typeof w.fixed=="string"?w.fixed:w.fixed?"start":"none";return{position:"sticky",left:I==="start"?B(w.fixedOffset):void 0,right:I==="end"?B(w.fixedEndOffset):void 0,top:e.sticky||e.fixedHeader?`calc(var(--v-table-header-height) * ${g})`:void 0}}function h(w,g){w.key==="Enter"&&!e.disableSort&&n(g)}function d(w){const g=r.value.find(I=>I.key===w.key);return g?g.order==="asc"?e.sortAscIcon:e.sortDescIcon:e.sortAscIcon}const{backgroundColorClasses:T,backgroundColorStyles:y}=xt(()=>e.color),{displayClasses:p,mobile:D}=me(e),x=k(()=>({headers:f.value,columns:m.value,toggleSort:n,isSorted:o,sortBy:r.value,someSelected:i.value,allSelected:s.value,selectAll:u,getSortIcon:d})),_=k(()=>["v-data-table__th",{"v-data-table__th--sticky":e.sticky||e.fixedHeader},p.value,v.value]),H=w=>{let{column:g,x:I,y:F}=w;const oe=g.key==="data-table-select"||g.key==="data-table-expand",Q=g.key==="data-table-group"&&g.width===0&&!g.title,se=N(e.headerProps??{},g.headerProps??{});return S(K,N({tag:"th",align:g.align,class:[{"v-data-table__th--sortable":g.sortable&&!e.disableSort,"v-data-table__th--sorted":o(g),"v-data-table__th--fixed":g.fixed},..._.value],style:{width:B(g.width),minWidth:B(g.minWidth),maxWidth:B(g.maxWidth),...P(g,F)},colspan:g.colspan,rowspan:g.rowspan,fixed:g.fixed,nowrap:g.nowrap,lastFixed:g.lastFixed,firstFixedEnd:g.firstFixedEnd,noPadding:oe,empty:Q,tabindex:g.sortable?0:void 0,onClick:g.sortable?()=>n(g):void 0,onKeydown:g.sortable?R=>h(R,g):void 0},se),{default:()=>{const R=`header.${g.key}`,G={column:g,selectAll:u,isSorted:o,toggleSort:n,sortBy:r.value,someSelected:i.value,allSelected:s.value,getSortIcon:d};return l[R]?l[R](G):Q?"":g.key==="data-table-select"?l["header.data-table-select"]?.(G)??(c.value&&S(he,{density:e.density,modelValue:s.value,indeterminate:i.value&&!s.value,"onUpdate:modelValue":u},null)):b("div",{class:"v-data-table-header__content"},[b("span",null,[g.title]),g.sortable&&!e.disableSort&&S(Pe,{key:"icon",class:"v-data-table-header__sort-icon",icon:d(g)},null),e.multiSort&&o(g)&&b("div",{key:"badge",class:te(["v-data-table-header__sort-badge",...T.value]),style:ft(y.value)},[r.value.findIndex(ue=>ue.key===g.key)+1])])}})},A=()=>{const w=k(()=>m.value.filter(I=>I?.sortable&&!e.disableSort)),g=k(()=>{if(m.value.find(F=>F.key==="data-table-select")!=null)return s.value?"$checkboxOn":i.value?"$checkboxIndeterminate":"$checkboxOff"});return S(K,N({tag:"th",class:[..._.value],colspan:f.value.length+1},e.headerProps),{default:()=>[b("div",{class:"v-data-table-header__content"},[S(Fe,{chips:!0,class:"v-data-table__td-sort-select",clearable:!0,density:"default",items:w.value,label:a("$vuetify.dataTable.sortBy"),multiple:e.multiSort,variant:"underlined","onClick:clear":()=>r.value=[],appendIcon:g.value,"onClick:append":()=>u(!s.value)},{chip:I=>S(kt,{onClick:I.item.raw?.sortable?()=>n(I.item.raw):void 0,onMousedown:F=>{F.preventDefault(),F.stopPropagation()}},{default:()=>[I.item.title,S(Pe,{class:te(["v-data-table__td-sort-icon",o(I.item.raw)&&"v-data-table__td-sort-icon-active"]),icon:d(I.item.raw),size:"small"},null)]})})])]})};U(()=>D.value?b("tr",null,[S(A,null,null)]):b(M,null,[l.headers?l.headers(x.value):f.value.map((w,g)=>b("tr",null,[w.map((I,F)=>S(H,{column:I,x:F,y:g},null))])),e.loading&&b("tr",{class:"v-data-table-progress"},[b("th",{colspan:m.value.length},[S(Pt,{name:"v-data-table-progress",absolute:!0,active:!0,color:typeof e.loading=="boolean"?void 0:e.loading,indeterminate:!0},{default:l.loader})])])]))}}),Jt=V({groupBy:{type:Array,default:()=>[]}},"DataTable-group"),We=Symbol.for("vuetify:data-table-group");function Xt(e){return{groupBy:j(e,"groupBy")}}function Yt(e){const{disableSort:t,groupBy:l,sortBy:a}=e,n=L(new Set),r=k(()=>l.value.map(c=>({...c,order:c.order??!1})).concat(t?.value?[]:a.value));function o(c){return n.value.has(c.id)}function i(c){const m=new Set(n.value);o(c)?m.delete(c.id):m.add(c.id),n.value=m}function s(c){function m(f){const v=[];for(const P of f.items)"type"in P&&P.type==="group"?v.push(...m(P)):v.push(P);return[...new Set(v)]}return m({items:c})}const u={sortByWithGroups:r,toggleGroup:i,opened:n,groupBy:l,extractRows:s,isGroupOpen:o};return W(We,u),u}function qe(){const e=q(We);if(!e)throw new Error("Missing group!");return e}function Zt(e,t){if(!e.length)return[];const l=new Map;for(const a of e){const n=ae(a.raw,t);l.has(n)||l.set(n,[]),l.get(n).push(a)}return l}function ze(e,t){let l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"root";if(!t.length)return[];const n=Zt(e,t[0]),r=[],o=t.slice(1);return n.forEach((i,s)=>{const u=t[0],c=`${a}_${u}_${s}`;r.push({depth:l,id:c,key:u,value:s,items:o.length?ze(i,o,l+1,c):i,type:"group"})}),r}function Ke(e,t,l){const a=[];for(const n of e)"type"in n&&n.type==="group"?(n.value!=null&&a.push(n),(t.has(n.id)||n.value==null)&&(a.push(...Ke(n.items,t,l)),l&&a.push({...n,type:"group-summary"}))):a.push(n);return a}function ea(e,t,l,a){return{flatItems:k(()=>{if(!t.value.length)return e.value;const r=ze(e.value,t.value.map(o=>o.key));return Ke(r,l.value,gt(a))})}}const Ue=V({item:{type:Object,required:!0},groupCollapseIcon:{type:O,default:"$tableGroupCollapse"},groupExpandIcon:{type:O,default:"$tableGroupExpand"},...ye()},"VDataTableGroupHeaderRow"),ta=z()({name:"VDataTableGroupHeaderRow",props:Ue(),setup(e,t){let{slots:l}=t;const{isGroupOpen:a,toggleGroup:n,extractRows:r}=qe(),{isSelected:o,isSomeSelected:i,select:s}=re(),{columns:u}=ne(),c=k(()=>r([e.item])),m=C(()=>u.value.length-(u.value.some(f=>f.key==="data-table-select")?1:0));return()=>b("tr",{class:"v-data-table-group-header-row",style:{"--v-data-table-group-header-row-depth":e.item.depth}},[u.value.map(f=>{if(f.key==="data-table-group"){const v=a(e.item)?e.groupCollapseIcon:e.groupExpandIcon,P=()=>n(e.item);return l["data-table-group"]?.({item:e.item,count:c.value.length,props:{icon:v,onClick:P}})??S(K,{class:"v-data-table-group-header-row__column",colspan:m.value},{default:()=>[S(Ce,{size:"small",variant:"text",icon:v,onClick:P},null),b("span",null,[e.item.value]),b("span",null,[pe("("),c.value.length,pe(")")])]})}else if(f.key==="data-table-select"){const v=o(c.value),P=i(c.value)&&!v,h=d=>s(c.value,d);return l["data-table-select"]?.({props:{modelValue:v,indeterminate:P,"onUpdate:modelValue":h}})??S(K,{class:"v-data-table__td--select-row",noPadding:!0},{default:()=>[S(he,{density:e.density,modelValue:v,indeterminate:P,"onUpdate:modelValue":h},null)]})}return""})])}}),aa=V({expandOnClick:Boolean,showExpand:Boolean,expanded:{type:Array,default:()=>[]}},"DataTable-expand"),Qe=Symbol.for("vuetify:datatable:expanded");function la(e){const t=C(()=>e.expandOnClick),l=j(e,"expanded",e.expanded,i=>new Set(i),i=>[...i.values()]);function a(i,s){const u=new Set(l.value),c=J(i.value);if(s)u.add(c);else{const m=[...l.value].find(f=>J(f)===c);u.delete(m)}l.value=u}function n(i){const s=J(i.value);return[...l.value].some(u=>J(u)===s)}function r(i){a(i,!n(i))}const o={expand:a,expanded:l,expandOnClick:t,isExpanded:n,toggleExpand:r};return W(Qe,o),o}function Je(){const e=q(Qe);if(!e)throw new Error("foo");return e}const Xe=V({index:Number,item:Object,cellProps:[Object,Function],collapseIcon:{type:O,default:"$collapse"},expandIcon:{type:O,default:"$expand"},onClick:de(),onContextmenu:de(),onDblclick:de(),...ye(),...ve()},"VDataTableRow"),na=z()({name:"VDataTableRow",props:Xe(),setup(e,t){let{slots:l}=t;const{displayClasses:a,mobile:n}=me(e,"v-data-table__tr"),{isSelected:r,toggleSelect:o,someSelected:i,allSelected:s,selectAll:u}=re(),{isExpanded:c,toggleExpand:m}=Je(),{toggleSort:f,sortBy:v,isSorted:P}=Me(),{columns:h}=ne();U(()=>b("tr",{class:te(["v-data-table__tr",{"v-data-table__tr--clickable":!!(e.onClick||e.onContextmenu||e.onDblclick)},a.value]),onClick:e.onClick,onContextmenu:e.onContextmenu,onDblclick:e.onDblclick},[e.item&&h.value.map((d,T)=>{const y=e.item,p=`item.${d.key}`,D=`header.${d.key}`,x={index:e.index,item:y.raw,internalItem:y,value:ae(y.columns,d.key),column:d,isSelected:r,toggleSelect:o,isExpanded:c,toggleExpand:m},_={column:d,selectAll:u,isSorted:P,toggleSort:f,sortBy:v.value,someSelected:i.value,allSelected:s.value,getSortIcon:()=>""},H=typeof e.cellProps=="function"?e.cellProps({index:x.index,item:x.item,internalItem:x.internalItem,value:x.value,column:d}):e.cellProps,A=typeof d.cellProps=="function"?d.cellProps({index:x.index,item:x.item,internalItem:x.internalItem,value:x.value}):d.cellProps,w=d.key==="data-table-select"||d.key==="data-table-expand",g=d.key==="data-table-group"&&d.width===0&&!d.title;return S(K,N({align:d.align,indent:d.intent,class:{"v-data-table__td--expanded-row":d.key==="data-table-expand","v-data-table__td--select-row":d.key==="data-table-select"},fixed:d.fixed,fixedOffset:d.fixedOffset,fixedEndOffset:d.fixedEndOffset,lastFixed:d.lastFixed,firstFixedEnd:d.firstFixedEnd,maxWidth:n.value?void 0:d.maxWidth,noPadding:w,empty:g,nowrap:d.nowrap,width:n.value?void 0:d.width},H,A),{default:()=>{if(d.key==="data-table-select")return l["item.data-table-select"]?.({...x,props:{disabled:!y.selectable,modelValue:r([y]),onClick:X(()=>o(y),["stop"])}})??S(he,{disabled:!y.selectable,density:e.density,modelValue:r([y]),onClick:X(F=>o(y,e.index,F),["stop"])},null);if(d.key==="data-table-expand")return l["item.data-table-expand"]?.({...x,props:{icon:c(y)?e.collapseIcon:e.expandIcon,size:"small",variant:"text",onClick:X(()=>m(y),["stop"])}})??S(Ce,{icon:c(y)?e.collapseIcon:e.expandIcon,size:"small",variant:"text",onClick:X(()=>m(y),["stop"])},null);if(l[p]&&!n.value)return l[p](x);const I=mt(x.value);return n.value?b(M,null,[b("div",{class:"v-data-table__td-title"},[l[D]?.(_)??d.title]),b("div",{class:"v-data-table__td-value"},[l[p]?.(x)??I])]):I}})})]))}}),Ye=V({loading:[Boolean,String],loadingText:{type:String,default:"$vuetify.dataIterator.loadingText"},hideNoData:Boolean,items:{type:Array,default:()=>[]},noDataText:{type:String,default:"$vuetify.noDataText"},rowProps:[Object,Function],cellProps:[Object,Function],...ce(Xe(),["collapseIcon","expandIcon","density"]),...ce(Ue(),["groupCollapseIcon","groupExpandIcon","density"]),...ve()},"VDataTableRows"),De=z()({name:"VDataTableRows",inheritAttrs:!1,props:Ye(),setup(e,t){let{attrs:l,slots:a}=t;const{columns:n}=ne(),{expandOnClick:r,toggleExpand:o,isExpanded:i}=Je(),{isSelected:s,toggleSelect:u}=re(),{toggleGroup:c,isGroupOpen:m}=qe(),{t:f}=le(),{mobile:v}=me(e);return U(()=>{const P=ce(e,["groupCollapseIcon","groupExpandIcon","density"]);return e.loading&&(!e.items.length||a.loading)?b("tr",{class:"v-data-table-rows-loading",key:"loading"},[b("td",{colspan:n.value.length},[a.loading?.()??f(e.loadingText)])]):!e.loading&&!e.items.length&&!e.hideNoData?b("tr",{class:"v-data-table-rows-no-data",key:"no-data"},[b("td",{colspan:n.value.length},[a["no-data"]?.()??f(e.noDataText)])]):b(M,null,[e.items.map((h,d)=>{if(h.type==="group"){const p={index:d,item:h,columns:n.value,isExpanded:i,toggleExpand:o,isSelected:s,toggleSelect:u,toggleGroup:c,isGroupOpen:m};return a["group-header"]?a["group-header"](p):S(ta,N({key:`group-header_${h.id}`,item:h},xe(l,":groupHeader",()=>p),P),a)}if(h.type==="group-summary"){const p={index:d,item:h,columns:n.value,toggleGroup:c};return a["group-summary"]?.(p)??""}const T={index:d,item:h.raw,internalItem:h,columns:n.value,isExpanded:i,toggleExpand:o,isSelected:s,toggleSelect:u},y={...T,props:N({key:`item_${h.key??h.index}`,onClick:r.value?()=>{o(h)}:void 0,index:d,item:h,cellProps:e.cellProps,collapseIcon:e.collapseIcon,expandIcon:e.expandIcon,density:e.density,mobile:v.value},xe(l,":row",()=>T),typeof e.rowProps=="function"?e.rowProps({item:T.item,index:T.index,internalItem:T.internalItem}):e.rowProps)};return b(M,{key:y.props.key},[a.item?a.item(y):S(na,y.props,a),i(h)&&a["expanded-row"]?.(T)])})])}),{}}}),ra=V({items:{type:Array,default:()=>[]},itemValue:{type:[String,Array,Function],default:"id"},itemSelectable:{type:[String,Array,Function],default:null},rowProps:[Object,Function],cellProps:[Object,Function],returnObject:Boolean},"DataTable-items");function oa(e,t,l,a){const n=e.returnObject?t:ee(t,e.itemValue),r=ee(t,e.itemSelectable,!0),o=a.reduce((i,s)=>(s.key!=null&&(i[s.key]=ee(t,s.value)),i),{});return{type:"item",key:e.returnObject?ee(t,e.itemValue):n,index:l,value:n,selectable:r,columns:o,raw:t}}function sa(e,t,l){return t.map((a,n)=>oa(e,a,n,l))}function ua(e,t){return{items:k(()=>sa(e,e.items,t.value))}}function ia(e){let{page:t,itemsPerPage:l,sortBy:a,groupBy:n,search:r}=e;const o=Te("VDataTable"),i=()=>({page:t.value,itemsPerPage:l.value,sortBy:a.value,groupBy:n.value,search:r.value});let s=null;ge(i,u=>{Ve(s,u)||(s&&s.search!==u.search&&(t.value=1),o.emit("update:options",u),s=u)},{deep:!0,immediate:!0})}const da=V({...Ye(),hideDefaultBody:Boolean,hideDefaultFooter:Boolean,hideDefaultHeader:Boolean,width:[String,Number],search:String,...aa(),...Jt(),...Ot(),...ra(),...jt(),...qt(),...je(),...It()},"DataTable"),ca=V({...Ft(),...da(),...Tt(),..._e()},"VDataTable"),Pa=z()({name:"VDataTable",props:ca(),emits:{"update:modelValue":e=>!0,"update:page":e=>!0,"update:itemsPerPage":e=>!0,"update:sortBy":e=>!0,"update:options":e=>!0,"update:groupBy":e=>!0,"update:expanded":e=>!0,"update:currentItems":e=>!0},setup(e,t){let{attrs:l,slots:a}=t;const{groupBy:n}=Xt(e),{sortBy:r,multiSort:o,mustSort:i}=zt(e),{page:s,itemsPerPage:u}=Ct(e),{disableSort:c}=vt(e),{columns:m,headers:f,sortFunctions:v,sortRawFunctions:P,filterFunctions:h}=Gt(e,{groupBy:n,showSelect:C(()=>e.showSelect),showExpand:C(()=>e.showExpand)}),{items:d}=ua(e,m),T=C(()=>e.search),{filteredItems:y}=Dt(e,d,T,{transform:$=>$.columns,customKeyFilter:h}),{toggleSort:p}=Kt({sortBy:r,multiSort:o,mustSort:i,page:s}),{sortByWithGroups:D,opened:x,extractRows:_,isGroupOpen:H,toggleGroup:A}=Yt({groupBy:n,sortBy:r,disableSort:c}),{sortedItems:w}=Ut(e,y,D,{transform:$=>({...$.raw,...$.columns}),sortFunctions:v,sortRawFunctions:P}),{flatItems:g}=ea(w,n,x,()=>!!a["group-summary"]),I=k(()=>g.value.length),{startIndex:F,stopIndex:oe,pageCount:Q,setItemsPerPage:se}=Bt({page:s,itemsPerPage:u,itemsLength:I}),{paginatedItems:R}=Et({items:g,startIndex:F,stopIndex:oe,itemsPerPage:u}),G=k(()=>_(R.value)),{isSelected:ue,select:Ze,selectAll:et,toggleSelect:tt,someSelected:at,allSelected:lt}=Wt(e,{allItems:d,currentPage:G}),{isExpanded:nt,toggleExpand:rt}=la(e);ia({page:s,itemsPerPage:u,sortBy:r,groupBy:n,search:T}),pt({VDataTableRows:{hideNoData:C(()=>e.hideNoData),noDataText:C(()=>e.noDataText),loading:C(()=>e.loading),loadingText:C(()=>e.loadingText)}});const E=k(()=>({page:s.value,itemsPerPage:u.value,sortBy:r.value,pageCount:Q.value,toggleSort:p,setItemsPerPage:se,someSelected:at.value,allSelected:lt.value,isSelected:ue,select:Ze,selectAll:et,toggleSelect:tt,isExpanded:nt,toggleExpand:rt,isGroupOpen:H,toggleGroup:A,items:G.value.map($=>$.raw),internalItems:G.value,groupedItems:R.value,columns:m.value,headers:f.value}));return U(()=>{const $=ke.filterProps(e),ot=Ie.filterProps(e),st=De.filterProps(e),ut=we.filterProps(e);return S(we,N({class:["v-data-table",{"v-data-table--show-select":e.showSelect,"v-data-table--loading":e.loading},e.class],style:e.style},ut,{fixedHeader:e.fixedHeader||e.sticky}),{top:()=>a.top?.(E.value),default:()=>a.default?a.default(E.value):b(M,null,[a.colgroup?.(E.value),!e.hideDefaultHeader&&b("thead",{key:"thead"},[S(Ie,ot,a)]),a.thead?.(E.value),!e.hideDefaultBody&&b("tbody",null,[a["body.prepend"]?.(E.value),a.body?a.body(E.value):S(De,N(l,st,{items:R.value}),a),a["body.append"]?.(E.value)]),a.tbody?.(E.value),a.tfoot?.(E.value)]),bottom:()=>a.bottom?a.bottom(E.value):!e.hideDefaultFooter&&b(M,null,[S(Vt,null,null),S(ke,$,{prepend:a["footer.prepend"]})])})}),{}}});export{Pa as V,zt as a,Ct as b,Xt as c,Gt as d,Yt as e,Bt as f,ea as g,Wt as h,la as i,ia as j,ke as k,Ie as l,De as m,_e as n,da as o,Kt as p,Ft as q,ua as u};
