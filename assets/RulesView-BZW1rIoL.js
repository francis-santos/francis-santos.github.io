import{k as Te,f as R,j as J,r as De,w as ee,s as ne,J as Se,q as a,z as i,F as oe,x as Y,Q as Xe,v as Ye,a8 as s,$ as W,a1 as t,W as u,_ as C,a0 as P,a9 as Ze,ag as $e,ah as el,ae as Ce,a2 as v,E as ll}from"./vendor-vue-BOgiBTV5.js";import{r as Z}from"./rules-C95SCyzm.js";import{V as L,u as al}from"./VChip-CnfVI7ta.js";import{x as tl,a as T,h as ol,y as il,_ as ze,b as O,c as Ie,z as rl}from"./index-Fi5SlckD.js";import{e as nl,a as pe,b as K,V as U,c as sl}from"./VGrid-BenhMHcZ.js";import{V as dl}from"./VForm-Da-i8RCh.js";import{V as ae,a as h}from"./VRow-i_tVuNAF.js";import{u as ul,a as cl,b as ml,c as vl,m as fl,V as Ve}from"./VSelect-0fCGXKgg.js";import{V as te,m as gl}from"./VTextField-B2IaUgQ6.js";import{u as pl,h as yl,m as bl}from"./filter-BU9fsv7R.js";import{u as Vl}from"./autofocus-BDwW2Sox.js";import{u as xl,a as Ae,b as ue,V as Pe,e as Cl,c as xe,d as _l}from"./VList-DIl281p1.js";import{h as kl,p as hl,aj as wl,q as he,w as Sl,H as El,u as Rl,al as Tl,am as Dl,ab as zl,an as Ee,r as Il,a0 as Re}from"./vendor-ui-BR0KSDoQ.js";import{V as Ue}from"./VMenu-DelZx27A.js";import{V as de}from"./VSwitch-DM6dFJzZ.js";import{V as be}from"./VTextarea-DOQyhfq_.js";import{V as Al}from"./VCombobox-C9BL6Xc7.js";import{V as Pl}from"./VSpacer-CoP99NGt.js";import{V as Ul}from"./VDialog-CwamhhG7.js";import{V as Fl}from"./VPagination-BthfBpUL.js";import"./auth-Dt5LZyuD.js";import"./vendor-utils-C9OYYH06.js";import"./token-storage.service-BqAv9k07.js";import"./index-DzEvJ-T3.js";import"./dialog-transition-BRPqoOP4.js";import"./ssrBoot-Cswv876e.js";const Ml=Te({__name:"RuleFormDialog",props:{modelValue:{type:Boolean,required:!0},ruleId:{type:[String,null],required:!1,default:null},organizationId:{type:String,required:!0}},emits:["update:modelValue","saved"],setup(n,{expose:e,emit:V}){e();const l=n,w=V,D=R(),o=R(!1),p=R(!1),S=R(!1),B=R(!1),g=R(null),_=R([]),q=R(null),Q=J(()=>!!l.ruleId),I=J(()=>Q.value&&q.value?.ruleTemplate?q.value.ruleTemplate:_.value.find(d=>d.id===b.ruleTemplateId)),b=De({ruleTemplateId:"",isEnabled:!0,customSeverity:void 0,customMessage:"",customConfiguration:{},organizationSpecificExamples:[],tags:[],notes:"",category:"",priority:50,enforcementRules:{autoFix:!1,skipOnDraft:!1,warningOnly:!1,blockOnViolation:!0}}),ce=[{title:"Baixa",value:"low"},{title:"Média",value:"medium"},{title:"Alta",value:"high"},{title:"Crítica",value:"critical"}],k=[d=>!!d||"Template da regra é obrigatório"],f=async()=>{if(!Q.value){B.value=!0;try{const d=await Z.getEffectiveRules(l.organizationId);_.value=d.map(ve=>ve.ruleTemplate)}catch(d){console.error("Erro ao carregar templates:",d)}finally{B.value=!1}}},ie=async()=>{if(l.ruleId){S.value=!0,g.value=null;try{const d=await Z.getRuleConfig(l.organizationId,l.ruleId);q.value=d,G(d)}catch(d){g.value=d instanceof Error?d.message:"Erro ao carregar configuração"}finally{S.value=!1}}},G=d=>{b.isEnabled=d.isEnabled,b.customSeverity=d.customSeverity,b.customMessage=d.customMessage||"",b.customConfiguration=d.customConfiguration||{},b.organizationSpecificExamples=d.organizationSpecificExamples||[],b.tags=d.tags||[],b.notes=d.notes||"",b.category=d.category||"",b.priority=d.priority||50,b.enforcementRules=d.enforcementRules||{autoFix:!1,skipOnDraft:!1,warningOnly:!1,blockOnViolation:!0}},H=()=>{Object.assign(b,{ruleTemplateId:"",isEnabled:!0,customSeverity:void 0,customMessage:"",customConfiguration:{},organizationSpecificExamples:[],tags:[],notes:"",category:"",priority:50,enforcementRules:{autoFix:!1,skipOnDraft:!1,warningOnly:!1,blockOnViolation:!0}}),D.value?.resetValidation(),o.value=!1},me=()=>{I.value&&(b.customSeverity=void 0,b.category=I.value.category)},F=()=>{b.organizationSpecificExamples||(b.organizationSpecificExamples=[]),b.organizationSpecificExamples.push({context:"",snippet:"",isCorrect:!0,description:""})},$=d=>{b.organizationSpecificExamples&&b.organizationSpecificExamples.splice(d,1)},N=async()=>{if(D.value?.validate()){p.value=!0;try{const d={...b,organizationSpecificExamples:b.organizationSpecificExamples?.filter(ve=>ve.snippet.trim())||[]};Q.value&&l.ruleId?await Z.updateRuleConfig(l.organizationId,l.ruleId,d):await Z.createRuleConfig(l.organizationId,d),w("saved")}catch(d){console.error("Erro ao salvar configuração:",d)}finally{p.value=!1}}},re=()=>{H(),w("update:modelValue",!1)},y=d=>{switch(d){case"low":return"success";case"medium":return"warning";case"high":return"orange";case"critical":return"error";default:return"grey"}},j=d=>{switch(d){case"low":return"Baixa";case"medium":return"Média";case"high":return"Alta";case"critical":return"Crítica";default:return"N/A"}},X=d=>new Date(d).toLocaleDateString("pt-BR",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"});ee(()=>l.modelValue,d=>{d?Q.value?ie():(H(),f()):(g.value=null,q.value=null,H())}),ee(()=>l.ruleId,()=>{H(),g.value=null,q.value=null});const E={props:l,emit:w,formRef:D,valid:o,loading:p,loadingRule:S,loadingTemplates:B,error:g,availableTemplates:_,ruleConfig:q,isEditing:Q,selectedTemplate:I,form:b,severityOptions:ce,templateRules:k,loadTemplates:f,loadRule:ie,populateForm:G,resetForm:H,onTemplateChange:me,addExample:F,removeExample:$,submit:N,handleCancel:re,getSeverityColor:y,getSeverityLabel:j,formatDate:X};return Object.defineProperty(E,"__isScriptSetup",{enumerable:!1,value:!0}),E}}),Ol=hl({autoSelectFirst:{type:[Boolean,String]},clearOnSelect:Boolean,search:String,...bl({filterKeys:["title"]}),...fl(),...zl(gl({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"])},"VAutocomplete"),Ll=kl()({name:"VAutocomplete",props:Ol(),emits:{"update:focused":n=>!0,"update:search":n=>!0,"update:modelValue":n=>!0,"update:menu":n=>!0},setup(n,e){let{slots:V}=e;const{t:l}=wl(),w=R(),D=ne(!1),o=ne(!0),p=ne(!1),S=R(),B=R(),g=ne(-1),_=ne(null),{items:q,transformIn:Q,transformOut:I}=xl(n),{textColorClasses:b,textColorStyles:ce}=tl(()=>w.value?.color),k=he(n,"search",""),f=he(n,"modelValue",[],r=>Q(r===null?[null]:Sl(r)),r=>{const x=I(r);return n.multiple?x:x[0]??null}),ie=J(()=>typeof n.counterValue=="function"?n.counterValue(f.value):typeof n.counterValue=="number"?n.counterValue:f.value.length),G=Vl(n),{filteredItems:H,getMatches:me}=pl(n,q,()=>_.value??(o.value?"":k.value)),F=J(()=>n.hideSelected&&_.value===null?H.value.filter(r=>!f.value.some(x=>x.value===r.value)):H.value),$=J(()=>!!(n.chips||V.chip)),N=J(()=>$.value||!!V.selection),re=J(()=>f.value.map(r=>r.props.value)),y=J(()=>(n.autoSelectFirst===!0||n.autoSelectFirst==="exact"&&k.value===F.value[0]?.title)&&F.value.length>0&&!o.value&&!p.value),j=J(()=>n.hideNoData&&!F.value.length||G.isReadonly.value||G.isDisabled.value),X=he(n,"menu"),E=J({get:()=>X.value,set:r=>{X.value&&!r&&S.value?.ΨopenChildren.size||r&&j.value||(X.value=r)}}),{menuId:d,ariaExpanded:ve,ariaControls:Fe,ariaLabel:we}=ul(n,E),_e=R(),Me=cl(_e,w);function Oe(r){n.openOnClear&&(E.value=!0),k.value=""}function Le(){j.value||(E.value=!0)}function Be(r){j.value||(D.value&&(r.preventDefault(),r.stopPropagation()),E.value=!E.value)}function qe(r){(Ee(r)||r.key==="Backspace")&&w.value?.focus()}function Ne(r){if(G.isReadonly.value)return;const x=w.value?.selectionStart,z=f.value.length;if(["Enter","ArrowDown","ArrowUp"].includes(r.key)&&r.preventDefault(),["Enter","ArrowDown"].includes(r.key)&&(E.value=!0),["Escape"].includes(r.key)&&(E.value=!1),y.value&&["Enter","Tab"].includes(r.key)&&!f.value.some(c=>{let{value:m}=c;return m===F.value[0].value})&&le(F.value[0]),r.key==="ArrowDown"&&y.value&&_e.value?.focus("next"),["Backspace","Delete"].includes(r.key)){if(!n.multiple&&N.value&&f.value.length>0&&!k.value)return le(f.value[0],!1);if(~g.value){r.preventDefault();const c=g.value;le(f.value[g.value],!1),g.value=c>=z-1?z-2:c}else r.key==="Backspace"&&!k.value&&(g.value=z-1);return}if(n.multiple)if(r.key==="ArrowLeft"){if(g.value<0&&x&&x>0)return;const c=g.value>-1?g.value-1:z-1;if(f.value[c])g.value=c;else{const m=k.value?.length??null;g.value=-1,w.value?.setSelectionRange(m,m)}}else if(r.key==="ArrowRight"){if(g.value<0)return;const c=g.value+1;f.value[c]?g.value=c:(g.value=-1,w.value?.setSelectionRange(0,0))}else~g.value&&Ee(r)&&(g.value=-1)}function je(r){if(Re(w.value,":autofill")||Re(w.value,":-webkit-autofill")){const x=q.value.find(z=>z.title===r.target.value);x&&le(x)}}function Ke(){n.eager&&B.value?.calculateVisibleItems()}function He(){D.value&&(o.value=!0,w.value?.focus()),_.value=null}function We(r){D.value=!0,setTimeout(()=>{p.value=!0})}function Je(r){p.value=!1}function Qe(r){(r==null||r===""&&!n.multiple&&!N.value)&&(f.value=[])}const ke=ne(!1);function le(r){let x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!(!r||r.props.disabled))if(n.multiple){const z=f.value.findIndex(m=>(n.valueComparator||Il)(m.value,r.value)),c=x??!~z;if(~z){const m=c?[...f.value,r]:[...f.value];m.splice(z,1),f.value=m}else c&&(f.value=[...f.value,r]);n.clearOnSelect&&(k.value="")}else{const z=x!==!1;f.value=z?[r]:[],_.value=o.value?"":k.value??"",k.value=z&&!N.value?r.title:"",Se(()=>{E.value=!1,o.value=!0})}}return ee(D,(r,x)=>{r!==x&&(r?(ke.value=!0,k.value=n.multiple||N.value?"":String(f.value.at(-1)?.props.title??""),o.value=!0,Se(()=>ke.value=!1)):(!n.multiple&&k.value==null&&(f.value=[]),E.value=!1,!o.value&&k.value&&(_.value=k.value),k.value="",g.value=-1))}),ee(k,r=>{!D.value||ke.value||(r&&(E.value=!0),o.value=!r)}),ee(E,r=>{if(!n.hideSelected&&r&&f.value.length&&o.value){const x=F.value.findIndex(z=>f.value.some(c=>z.value===c.value));El&&window.requestAnimationFrame(()=>{x>=0&&B.value?.scrollToIndex(x)})}r&&(_.value=null)}),ee(q,(r,x)=>{E.value||D.value&&!x.length&&r.length&&(E.value=!0)}),Rl(()=>{const r=!!(!n.hideNoData||F.value.length||V["prepend-item"]||V["append-item"]||V["no-data"]),x=f.value.length>0,z=te.filterProps(n);return a(te,Y({ref:w},z,{modelValue:k.value,"onUpdate:modelValue":[c=>k.value=c,Qe],focused:D.value,"onUpdate:focused":c=>D.value=c,validationValue:f.externalValue,counterValue:ie.value,dirty:x,onChange:je,class:["v-autocomplete",`v-autocomplete--${n.multiple?"multiple":"single"}`,{"v-autocomplete--active-menu":E.value,"v-autocomplete--chips":!!n.chips,"v-autocomplete--selection-slot":!!N.value,"v-autocomplete--selecting-index":g.value>-1},n.class],style:n.style,readonly:G.isReadonly.value,placeholder:x?void 0:n.placeholder,"onClick:clear":Oe,"onMousedown:control":Le,onKeydown:Ne,"aria-expanded":ve.value,"aria-controls":Fe.value}),{...V,default:()=>i(oe,null,[a(Ue,Y({id:d.value,ref:S,modelValue:E.value,"onUpdate:modelValue":c=>E.value=c,activator:"parent",contentClass:"v-autocomplete__content",disabled:j.value,eager:n.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,onAfterEnter:Ke,onAfterLeave:He},n.menuProps),{default:()=>[r&&a(Ae,Y({ref:_e,filterable:!0,selected:re.value,selectStrategy:n.multiple?"independent":"single-independent",onMousedown:c=>c.preventDefault(),onKeydown:qe,onFocusin:We,onFocusout:Je,tabindex:"-1",selectable:!0,"aria-live":"polite",color:n.itemColor??n.color},Me,n.listProps),{default:()=>[V["prepend-item"]?.(),!F.value.length&&!n.hideNoData&&(V["no-data"]?.()??a(ue,{key:"no-data",title:l(n.noDataText)},null)),a(ml,{ref:B,renderless:!0,items:F.value,itemKey:"value"},{default:c=>{let{item:m,index:A,itemRef:ye}=c;const fe=Y(m.props,{ref:ye,key:m.value,active:y.value&&A===0?!0:void 0,onClick:()=>le(m,null)});return m.type==="divider"?V.divider?.({props:m.raw,index:A})??a(Pe,Y(m.props,{key:`divider-${A}`}),null):m.type==="subheader"?V.subheader?.({props:m.raw,index:A})??a(Cl,Y(m.props,{key:`subheader-${A}`}),null):V.item?.({item:m,index:A,props:fe})??a(ue,Y(fe,{role:"option"}),{prepend:ge=>{let{isSelected:M}=ge;return i(oe,null,[n.multiple&&!n.hideSelected?a(vl,{key:m.value,modelValue:M,ripple:!1,tabindex:"-1",onClick:Ge=>Ge.preventDefault()},null):void 0,m.props.prependAvatar&&a(nl,{image:m.props.prependAvatar},null),m.props.prependIcon&&a(T,{icon:m.props.prependIcon},null)])},title:()=>o.value?m.title:yl("v-autocomplete",m.title,me(m)?.title)})}}),V["append-item"]?.()]})]}),f.value.map((c,m)=>{function A(M){M.stopPropagation(),M.preventDefault(),le(c,!1)}const ye={"onClick:close":A,onKeydown(M){M.key!=="Enter"&&M.key!==" "||(M.preventDefault(),M.stopPropagation(),A(M))},onMousedown(M){M.preventDefault(),M.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0},fe=$.value?!!V.chip:!!V.selection,ge=fe?Dl($.value?V.chip({item:c,index:m,props:ye}):V.selection({item:c,index:m})):void 0;if(!(fe&&!ge))return i("div",{key:c.value,class:Ye(["v-autocomplete__selection",m===g.value&&["v-autocomplete__selection--selected",b.value]]),style:Xe(m===g.value?ce.value:{})},[$.value?V.chip?a(ol,{key:"chip-defaults",defaults:{VChip:{closable:n.closableChips,size:"small",text:c.title}}},{default:()=>[ge]}):a(L,Y({key:"chip",closable:n.closableChips,size:"small",text:c.title,disabled:c.props.disabled},ye),null):ge??i("span",{class:"v-autocomplete__selection-text"},[c.title,n.multiple&&m<f.value.length-1&&i("span",{class:"v-autocomplete__selection-comma"},[s(",")])])])})]),"append-inner":function(){for(var c=arguments.length,m=new Array(c),A=0;A<c;A++)m[A]=arguments[A];return i(oe,null,[V["append-inner"]?.(...m),n.menuIcon?a(T,{class:"v-autocomplete__menu-icon",color:w.value?.fieldIconColor,icon:n.menuIcon,onMousedown:Be,onClick:Tl,"aria-label":we.value,title:we.value,tabindex:"-1"},null):void 0])}})}),il({isFocused:D,isPristine:o,menu:E,search:k,filteredItems:H,select:le},w)}}),Bl={class:"d-flex align-center"},ql={key:0,class:"text-center py-8"},Nl={key:1,class:"text-center py-8"},jl={class:"text-body-2 text-grey-darken-1 mb-4"},Kl={class:"text-h6 mb-2"},Hl={class:"text-body-2 mb-3"},Wl={class:"d-flex align-center mb-2"},Jl={key:0},Ql={class:"text-body-2"},Gl={class:"d-flex align-center justify-space-between mb-3"},Xl={class:"d-flex align-center"},Yl={class:"text-body-2 text-grey"},Zl={class:"d-flex align-center gap-2"},$l={class:"text-center"},ea={key:0},la={class:"mb-3"},aa={class:"text-body-2"},ta={class:"mb-3"},oa={class:"mb-3"},ia={class:"text-body-2"},ra={class:"mb-3"},na={class:"text-body-2"},sa={key:0,class:"mb-3"},da={class:"text-body-2"},ua={key:1,class:"mb-3"},ca={class:"text-body-2"},ma={key:2,class:"mb-3"},va={class:"mt-1"},fa={key:1,class:"text-body-2 text-grey"};function ga(n,e,V,l,w,D){return v(),W(Ul,{"model-value":V.modelValue,"onUpdate:modelValue":e[14]||(e[14]=o=>n.$emit("update:modelValue",o)),"max-width":"1200",persistent:"",scrollable:""},{default:t(()=>[a(U,null,{default:t(()=>[a(pe,{class:"text-h6 d-flex align-center justify-space-between bg-primary text-white sticky-header"},{default:t(()=>[i("div",Bl,[a(T,{class:"me-2"},{default:t(()=>[...e[15]||(e[15]=[s("mdi-cog",-1)])]),_:1}),s(" "+u(l.isEditing?"Editar Configuração de Regra":"Nova Configuração de Regra"),1)]),a(O,{icon:"mdi-close",variant:"text",size:"small",color:"white",onClick:l.handleCancel})]),_:1}),a(K,{class:"pa-6"},{default:t(()=>[l.isEditing&&l.loadingRule?(v(),C("div",ql,[a(Ie,{indeterminate:"",color:"primary",size:"64"}),e[16]||(e[16]=i("div",{class:"mt-4 text-body-1"},"Carregando configuração...",-1))])):l.error?(v(),C("div",Nl,[a(T,{size:"64",color:"error",class:"mb-4"},{default:t(()=>[...e[17]||(e[17]=[s("mdi-alert-circle",-1)])]),_:1}),e[19]||(e[19]=i("div",{class:"text-h6 mb-2"},"Erro ao carregar configuração",-1)),i("div",jl,u(l.error),1),l.isEditing?(v(),W(O,{key:0,color:"primary",onClick:l.loadRule},{default:t(()=>[...e[18]||(e[18]=[s("Tentar Novamente",-1)])]),_:1})):P("",!0)])):(v(),W(dl,{key:2,ref:"formRef",modelValue:l.valid,"onUpdate:modelValue":e[13]||(e[13]=o=>l.valid=o),onSubmit:Ze(l.submit,["prevent"])},{default:t(()=>[a(ae,null,{default:t(()=>[a(h,{cols:"12",md:"8"},{default:t(()=>[a(U,{variant:"outlined"},{default:t(()=>[a(pe,null,{default:t(()=>[a(T,{class:"mr-2"},{default:t(()=>[...e[20]||(e[20]=[s("mdi-cog",-1)])]),_:1}),e[21]||(e[21]=s(" Configuração da Regra ",-1))]),_:1}),a(K,null,{default:t(()=>[l.isEditing?P("",!0):(v(),W(Ll,{key:0,modelValue:l.form.ruleTemplateId,"onUpdate:modelValue":[e[0]||(e[0]=o=>l.form.ruleTemplateId=o),l.onTemplateChange],items:l.availableTemplates,loading:l.loadingTemplates,label:"Template da Regra *","item-title":"title","item-value":"id",variant:"outlined",rules:l.templateRules,required:"",class:"mb-4"},{item:t(({props:o,item:p})=>[a(ue,$e(el(o)),{prepend:t(()=>[a(L,{color:l.getSeverityColor(p.raw.severity),size:"small",class:"mr-2"},{default:t(()=>[s(u(l.getSeverityLabel(p.raw.severity)),1)]),_:2},1032,["color"])]),default:t(()=>[a(xe,null,{default:t(()=>[s(u(p.raw.title),1)]),_:2},1024),a(_l,null,{default:t(()=>[s(u(p.raw.category),1)]),_:2},1024)]),_:2},1040)]),_:1},8,["modelValue","items","loading"])),l.selectedTemplate?(v(),W(U,{key:1,variant:"outlined",class:"mb-4"},{default:t(()=>[a(K,null,{default:t(()=>[i("h4",Kl,u(l.selectedTemplate.title),1),i("p",Hl,u(l.selectedTemplate.rule),1),i("div",Wl,[a(L,{color:l.getSeverityColor(l.selectedTemplate.severity),size:"small",class:"mr-2"},{default:t(()=>[s(u(l.getSeverityLabel(l.selectedTemplate.severity)),1)]),_:1},8,["color"]),a(L,{size:"small",variant:"outlined",class:"mr-2"},{default:t(()=>[s(u(l.selectedTemplate.language),1)]),_:1}),a(L,{size:"small",variant:"outlined"},{default:t(()=>[s(u(l.selectedTemplate.category),1)]),_:1})]),l.selectedTemplate.whyIsThisImportant?(v(),C("div",Jl,[e[22]||(e[22]=i("strong",null,"Por que é importante:",-1)),i("p",Ql,u(l.selectedTemplate.whyIsThisImportant),1)])):P("",!0)]),_:1})]),_:1})):P("",!0),a(ae,null,{default:t(()=>[a(h,{cols:"12",md:"6"},{default:t(()=>[a(de,{modelValue:l.form.isEnabled,"onUpdate:modelValue":e[1]||(e[1]=o=>l.form.isEnabled=o),label:"Regra ativada",color:"primary","hide-details":""},null,8,["modelValue"]),e[23]||(e[23]=i("div",{class:"text-caption text-grey mt-1"}," Define se a regra será aplicada durante as análises ",-1))]),_:1}),a(h,{cols:"12",md:"6"},{default:t(()=>[a(te,{modelValue:l.form.priority,"onUpdate:modelValue":e[2]||(e[2]=o=>l.form.priority=o),label:"Prioridade",type:"number",variant:"outlined",min:"1",max:"100",hint:"Valor entre 1 e 100 (maior = mais prioritária)","persistent-hint":""},null,8,["modelValue"])]),_:1})]),_:1}),a(ae,{class:"mb-2"},{default:t(()=>[a(h,{cols:"12",md:"6"},{default:t(()=>[a(Ve,{modelValue:l.form.customSeverity,"onUpdate:modelValue":e[3]||(e[3]=o=>l.form.customSeverity=o),items:l.severityOptions,label:"Severidade personalizada",variant:"outlined","item-title":"title","item-value":"value",clearable:"",hint:"Substitui a severidade padrão do template","persistent-hint":""},null,8,["modelValue"])]),_:1}),a(h,{cols:"12",md:"6"},{default:t(()=>[a(te,{modelValue:l.form.category,"onUpdate:modelValue":e[4]||(e[4]=o=>l.form.category=o),label:"Categoria personalizada",variant:"outlined",placeholder:"Ex: security-custom, performance-critical",hint:"Substitui a categoria padrão do template","persistent-hint":""},null,8,["modelValue"])]),_:1})]),_:1}),a(be,{modelValue:l.form.customMessage,"onUpdate:modelValue":e[5]||(e[5]=o=>l.form.customMessage=o),label:"Mensagem personalizada",variant:"outlined",rows:"3",placeholder:"Mensagem que será exibida quando a regra for violada"},null,8,["modelValue"]),a(te,{modelValue:l.form.category,"onUpdate:modelValue":e[6]||(e[6]=o=>l.form.category=o),label:"Categoria personalizada",variant:"outlined",placeholder:"Ex: security-custom, performance-critical"},null,8,["modelValue"]),a(Al,{modelValue:l.form.tags,"onUpdate:modelValue":e[7]||(e[7]=o=>l.form.tags=o),label:"Tags",variant:"outlined",multiple:"",chips:"","closable-chips":"",placeholder:"Adicione tags para organizar a regra"},null,8,["modelValue"]),a(be,{modelValue:l.form.notes,"onUpdate:modelValue":e[8]||(e[8]=o=>l.form.notes=o),label:"Observações",variant:"outlined",rows:"3",placeholder:"Notas internas sobre esta configuração"},null,8,["modelValue"])]),_:1})]),_:1}),a(U,{variant:"outlined",class:"mt-4"},{default:t(()=>[a(pe,null,{default:t(()=>[a(T,{class:"mr-2"},{default:t(()=>[...e[24]||(e[24]=[s("mdi-gavel",-1)])]),_:1}),e[25]||(e[25]=s(" Regras de Aplicação ",-1))]),_:1}),a(K,null,{default:t(()=>[a(ae,null,{default:t(()=>[a(h,{cols:"12",md:"6"},{default:t(()=>[a(de,{modelValue:l.form.enforcementRules.autoFix,"onUpdate:modelValue":e[9]||(e[9]=o=>l.form.enforcementRules.autoFix=o),label:"Correção automática",color:"primary","hide-details":""},null,8,["modelValue"]),e[26]||(e[26]=i("div",{class:"text-caption text-grey mt-1"}," Tentar corrigir automaticamente quando possível ",-1))]),_:1}),a(h,{cols:"12",md:"6"},{default:t(()=>[a(de,{modelValue:l.form.enforcementRules.skipOnDraft,"onUpdate:modelValue":e[10]||(e[10]=o=>l.form.enforcementRules.skipOnDraft=o),label:"Pular em rascunhos",color:"primary","hide-details":""},null,8,["modelValue"]),e[27]||(e[27]=i("div",{class:"text-caption text-grey mt-1"}," Não aplicar em pull requests em rascunho ",-1))]),_:1}),a(h,{cols:"12",md:"6"},{default:t(()=>[a(de,{modelValue:l.form.enforcementRules.warningOnly,"onUpdate:modelValue":e[11]||(e[11]=o=>l.form.enforcementRules.warningOnly=o),label:"Apenas aviso",color:"primary","hide-details":""},null,8,["modelValue"]),e[28]||(e[28]=i("div",{class:"text-caption text-grey mt-1"}," Mostrar como aviso, não como erro ",-1))]),_:1}),a(h,{cols:"12",md:"6"},{default:t(()=>[a(de,{modelValue:l.form.enforcementRules.blockOnViolation,"onUpdate:modelValue":e[12]||(e[12]=o=>l.form.enforcementRules.blockOnViolation=o),label:"Bloquear em violação",color:"primary","hide-details":""},null,8,["modelValue"]),e[29]||(e[29]=i("div",{class:"text-caption text-grey mt-1"}," Impedir merge quando a regra for violada ",-1))]),_:1})]),_:1})]),_:1})]),_:1}),a(U,{variant:"outlined",class:"mt-4"},{default:t(()=>[a(pe,null,{default:t(()=>[a(T,{class:"mr-2"},{default:t(()=>[...e[30]||(e[30]=[s("mdi-code-braces",-1)])]),_:1}),e[31]||(e[31]=s(" Exemplos Específicos da Organização ",-1))]),_:1}),a(K,null,{default:t(()=>[(v(!0),C(oe,null,Ce(l.form.organizationSpecificExamples,(o,p)=>(v(),C("div",{key:p,class:"mb-6"},[a(U,{variant:"outlined",class:"pa-4"},{default:t(()=>[i("div",Gl,[i("div",Xl,[a(L,{color:o.isCorrect?"success":"error","prepend-icon":o.isCorrect?"mdi-check-circle":"mdi-close-circle",size:"small",class:"mr-3"},{default:t(()=>[s(u(o.isCorrect?"Exemplo Correto":"Exemplo Incorreto"),1)]),_:2},1032,["color","prepend-icon"]),i("span",Yl,"Exemplo "+u(p+1),1)]),i("div",Zl,[a(rl,{modelValue:o.isCorrect,"onUpdate:modelValue":S=>o.isCorrect=S,color:"primary",density:"compact",mandatory:""},{default:t(()=>[a(O,{value:!0,size:"small",color:o.isCorrect?"success":"grey-lighten-1"},{default:t(()=>[a(T,{size:"16"},{default:t(()=>[...e[32]||(e[32]=[s("mdi-check",-1)])]),_:1}),e[33]||(e[33]=i("span",{class:"ml-1"},"Correto",-1))]),_:1},8,["color"]),a(O,{value:!1,size:"small",color:o.isCorrect?"grey-lighten-1":"error"},{default:t(()=>[a(T,{size:"16"},{default:t(()=>[...e[34]||(e[34]=[s("mdi-close",-1)])]),_:1}),e[35]||(e[35]=i("span",{class:"ml-1"},"Incorreto",-1))]),_:1},8,["color"])]),_:2},1032,["modelValue","onUpdate:modelValue"]),a(O,{icon:"mdi-delete-outline",size:"small",color:"error",variant:"text",onClick:S=>l.removeExample(p),title:`Remover exemplo ${p+1}`},null,8,["onClick","title"])])]),a(ae,null,{default:t(()=>[a(h,{cols:"12",md:"4"},{default:t(()=>[a(te,{modelValue:o.context,"onUpdate:modelValue":S=>o.context=S,label:"Contexto",variant:"outlined",density:"compact",placeholder:"Ex: Método de validação, Loop de array..."},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),a(h,{cols:"12",md:"8"},{default:t(()=>[a(be,{modelValue:o.snippet,"onUpdate:modelValue":S=>o.snippet=S,label:"Código de exemplo",variant:"outlined",rows:"3",density:"compact",placeholder:"Cole aqui o código de exemplo..."},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024),a(be,{modelValue:o.description,"onUpdate:modelValue":S=>o.description=S,label:"Descrição e justificativa",variant:"outlined",rows:"2",density:"compact",placeholder:o.isCorrect?"Explique por que este é um bom exemplo e deve ser seguido...":"Explique o problema com este código e como deveria ser corrigido..."},null,8,["modelValue","onUpdate:modelValue","placeholder"])]),_:2},1024)]))),128)),i("div",$l,[a(O,{"prepend-icon":"mdi-plus-circle-outline",variant:"outlined",color:"primary",onClick:l.addExample,class:"px-6"},{default:t(()=>[...e[36]||(e[36]=[s(" Adicionar Novo Exemplo ",-1)])]),_:1}),e[37]||(e[37]=i("div",{class:"text-caption text-grey mt-2"}," Adicione exemplos práticos para orientar sua equipe sobre esta regra ",-1))])]),_:1})]),_:1})]),_:1}),a(h,{cols:"12",md:"4"},{default:t(()=>[a(U,{variant:"outlined",class:"sticky-card"},{default:t(()=>[a(pe,null,{default:t(()=>[a(T,{class:"mr-2"},{default:t(()=>[...e[38]||(e[38]=[s("mdi-information",-1)])]),_:1}),e[39]||(e[39]=s(" Informações ",-1))]),_:1}),a(K,null,{default:t(()=>[l.selectedTemplate?(v(),C("div",ea,[i("div",la,[e[40]||(e[40]=i("strong",null,"Template:",-1)),i("div",aa,u(l.selectedTemplate.title),1)]),i("div",ta,[e[41]||(e[41]=i("strong",null,"Severidade padrão:",-1)),a(L,{color:l.getSeverityColor(l.selectedTemplate.severity),size:"small"},{default:t(()=>[s(u(l.getSeverityLabel(l.selectedTemplate.severity)),1)]),_:1},8,["color"])]),i("div",oa,[e[42]||(e[42]=i("strong",null,"Linguagem:",-1)),i("div",ia,u(l.selectedTemplate.language),1)]),i("div",ra,[e[43]||(e[43]=i("strong",null,"Escopo:",-1)),i("div",na,u(l.selectedTemplate.scope),1)]),l.isEditing&&l.ruleConfig?(v(),C("div",sa,[e[44]||(e[44]=i("strong",null,"Criada em:",-1)),i("div",da,u(l.formatDate(l.ruleConfig.createdAt)),1)])):P("",!0),l.isEditing&&l.ruleConfig?(v(),C("div",ua,[e[45]||(e[45]=i("strong",null,"Última atualização:",-1)),i("div",ca,u(l.formatDate(l.ruleConfig.updatedAt)),1)])):P("",!0),l.selectedTemplate.tags&&l.selectedTemplate.tags.length?(v(),C("div",ma,[e[46]||(e[46]=i("strong",null,"Tags do template:",-1)),i("div",va,[(v(!0),C(oe,null,Ce(l.selectedTemplate.tags,o=>(v(),W(L,{key:o,size:"small",variant:"outlined",class:"mr-1 mb-1"},{default:t(()=>[s(u(o),1)]),_:2},1024))),128))])])):P("",!0)])):(v(),C("div",fa,u(l.isEditing?"Carregando informações...":"Selecione um template para ver as informações"),1))]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]))]),_:1}),a(sl,{class:"px-6 py-4 bg-surface border-t"},{default:t(()=>[a(Pl),a(O,{variant:"text",onClick:l.handleCancel,disabled:l.loading},{default:t(()=>[...e[47]||(e[47]=[s(" Cancelar ",-1)])]),_:1},8,["disabled"]),a(O,{color:"primary",variant:"flat",loading:l.loading,disabled:!l.valid||l.isEditing&&l.loadingRule,onClick:l.submit},{default:t(()=>[s(u(l.isEditing?"Salvar Alterações":"Criar Configuração"),1)]),_:1},8,["loading","disabled"])]),_:1})]),_:1})]),_:1},8,["model-value"])}const pa=ze(Ml,[["render",ga],["__scopeId","data-v-006fda34"],["__file","D:/Development/Projetos/Mira/mira-client/src/components/rules/RuleFormDialog.vue"]]),se="b1e58ac3-6a88-4fc3-846d-352c8ca4a1db",ya=Te({__name:"RulesView",setup(n,{expose:e}){e();const{isDemoUser:V}=al(),l=R({data:[],total:0,page:1,limit:10,totalPages:0}),w=R(null),D=R([]),o=R(!1),p=R(null),S=R(1),B=R(!1),g=R(null),_=De({search:"",status:void 0,severity:void 0,category:void 0,isEnabled:void 0,page:1,limit:10}),q=[{title:"Ativada",value:"enabled"},{title:"Desativada",value:"disabled"}],Q=[{title:"Baixa",value:"low"},{title:"Média",value:"medium"},{title:"Alta",value:"high"},{title:"Crítica",value:"critical"}],I=async()=>{o.value=!0,p.value=null;try{const[y,j,X]=await Promise.all([Z.getRuleConfigs(se,_),Z.getStatistics(se),Z.getCategories(se)]);l.value=y,w.value=j,D.value=X}catch(y){p.value=y instanceof Error?y.message:"Erro ao carregar dados"}finally{o.value=!1}},b=()=>{I()},ce=()=>{_.search="",_.status=void 0,_.severity=void 0,_.category=void 0,_.isEnabled=void 0,S.value=1,_.page=1,I()},k=y=>{S.value=y,_.page=y,I()},f=y=>{g.value=y,B.value=!0},ie=()=>{B.value=!1,g.value=null,I()};ee(B,y=>{y||setTimeout(()=>{g.value=null},100)});const G=async(y,j)=>{try{await Z.updateRuleConfig(se,y,{isEnabled:j}),I()}catch(X){console.error("Erro ao alterar status da regra:",X)}},H=async y=>{if(confirm("Tem certeza que deseja deletar esta configuração de regra?"))try{await Z.deleteRuleConfig(se,y),I()}catch(j){console.error("Erro ao deletar regra:",j)}},me=y=>{switch(y){case"low":return"success";case"medium":return"warning";case"high":return"orange";case"critical":return"error";default:return"grey"}},F=y=>{switch(y){case"low":return"Baixa";case"medium":return"Média";case"high":return"Alta";case"critical":return"Crítica";default:return"N/A"}},$=y=>new Date(y).toLocaleDateString("pt-BR");let N;ee(_,()=>{clearTimeout(N),N=setTimeout(()=>{_.page=1,S.value=1,I()},500)},{deep:!0}),ll(()=>{I()});const re={isDemoUser:V,organizationId:se,ruleConfigs:l,stats:w,availableCategories:D,loading:o,error:p,currentPage:S,showRuleDialog:B,editingRuleId:g,filters:_,statusOptions:q,severityOptions:Q,loadData:I,refreshData:b,clearFilters:ce,onPageChange:k,openEditDialog:f,onRuleSaved:ie,toggleRule:G,deleteRule:H,getSeverityColor:me,getSeverityLabel:F,formatDate:$,get debounceTimeout(){return N},set debounceTimeout(y){N=y},RuleFormDialog:pa};return Object.defineProperty(re,"__isScriptSetup",{enumerable:!1,value:!0}),re}}),ba={class:"rules-page"},Va={class:"d-flex align-center justify-space-between mb-6"},xa={class:"d-flex align-center gap-3"},Ca={class:"d-flex align-center"},_a={class:"text-h5 font-weight-bold"},ka={class:"d-flex align-center"},ha={class:"text-h5 font-weight-bold"},wa={class:"d-flex align-center"},Sa={class:"text-h5 font-weight-bold"},Ea={class:"d-flex align-center"},Ra={class:"text-h5 font-weight-bold"},Ta={key:0,class:"text-center py-8"},Da={key:1,class:"text-center py-8"},za={class:"text-body-2 text-medium-emphasis mb-4"},Ia={key:2},Aa={class:"d-flex justify-space-between align-start"},Pa={class:"flex-grow-1"},Ua={class:"d-flex align-center mb-2"},Fa={class:"text-h6 mr-3"},Ma={class:"text-body-2 text-grey-darken-1 mb-2"},Oa={key:0,class:"mb-2"},La={class:"text-body-2 mt-1"},Ba={key:1,class:"mb-2"},qa={class:"text-caption text-grey"},Na={class:"d-flex flex-column align-end"},ja={key:0,class:"text-center py-8"},Ka={class:"text-body-2 text-grey-darken-1"},Ha={key:0},Wa={key:1},Ja={key:3,class:"d-flex justify-center mt-6"};function Qa(n,e,V,l,w,D){return v(),C("div",ba,[i("div",Va,[e[10]||(e[10]=i("div",null,[i("h1",{class:"text-h4 font-weight-bold text-grey-darken-3 mb-2"}," Regras de Análise "),i("p",{class:"text-body-1 text-grey-darken-1"}," Configure as regras para análise de código da organização ")],-1)),i("div",xa,[a(O,{color:"primary","prepend-icon":"mdi-refresh",onClick:l.refreshData,loading:l.loading},{default:t(()=>[...e[8]||(e[8]=[s(" Atualizar ",-1)])]),_:1},8,["loading"]),l.isDemoUser?P("",!0):(v(),W(O,{key:0,color:"success","prepend-icon":"mdi-plus",variant:"elevated",onClick:e[0]||(e[0]=o=>l.showRuleDialog=!0),class:"ml-2"},{default:t(()=>[...e[9]||(e[9]=[s(" Adicionar Regra ",-1)])]),_:1}))])]),a(ae,{class:"mb-6"},{default:t(()=>[a(h,{cols:"12",sm:"6",md:"3"},{default:t(()=>[a(U,{color:"primary",variant:"tonal"},{default:t(()=>[a(K,null,{default:t(()=>[i("div",Ca,[a(T,{size:"32",class:"mr-3"},{default:t(()=>[...e[11]||(e[11]=[s("mdi-shield-check",-1)])]),_:1}),i("div",null,[i("div",_a,u(l.stats?.total||0),1),e[12]||(e[12]=i("div",{class:"text-caption"},"Total de Regras",-1))])])]),_:1})]),_:1})]),_:1}),a(h,{cols:"12",sm:"6",md:"3"},{default:t(()=>[a(U,{color:"success",variant:"tonal"},{default:t(()=>[a(K,null,{default:t(()=>[i("div",ka,[a(T,{size:"32",class:"mr-3"},{default:t(()=>[...e[13]||(e[13]=[s("mdi-check-circle",-1)])]),_:1}),i("div",null,[i("div",ha,u(l.stats?.enabled||0),1),e[14]||(e[14]=i("div",{class:"text-caption"},"Ativadas",-1))])])]),_:1})]),_:1})]),_:1}),a(h,{cols:"12",sm:"6",md:"3"},{default:t(()=>[a(U,{color:"warning",variant:"tonal"},{default:t(()=>[a(K,null,{default:t(()=>[i("div",wa,[a(T,{size:"32",class:"mr-3"},{default:t(()=>[...e[15]||(e[15]=[s("mdi-pause-circle",-1)])]),_:1}),i("div",null,[i("div",Sa,u(l.stats?.disabled||0),1),e[16]||(e[16]=i("div",{class:"text-caption"},"Desativadas",-1))])])]),_:1})]),_:1})]),_:1}),a(h,{cols:"12",sm:"6",md:"3"},{default:t(()=>[a(U,{color:"error",variant:"tonal"},{default:t(()=>[a(K,null,{default:t(()=>[i("div",Ea,[a(T,{size:"32",class:"mr-3"},{default:t(()=>[...e[17]||(e[17]=[s("mdi-alert-circle",-1)])]),_:1}),i("div",null,[i("div",Ra,u(l.stats?.bySeverity?.critical||0),1),e[18]||(e[18]=i("div",{class:"text-caption"},"Críticas",-1))])])]),_:1})]),_:1})]),_:1})]),_:1}),a(U,{class:"mb-6"},{default:t(()=>[a(K,null,{default:t(()=>[a(ae,null,{default:t(()=>[a(h,{cols:"12",md:"3"},{default:t(()=>[a(te,{modelValue:l.filters.search,"onUpdate:modelValue":e[1]||(e[1]=o=>l.filters.search=o),label:"Buscar regras","prepend-inner-icon":"mdi-magnify",clearable:"",variant:"outlined",density:"compact"},null,8,["modelValue"])]),_:1}),a(h,{cols:"12",md:"2"},{default:t(()=>[a(Ve,{modelValue:l.filters.status,"onUpdate:modelValue":e[2]||(e[2]=o=>l.filters.status=o),items:l.statusOptions,label:"Status",variant:"outlined",density:"compact",clearable:"","item-title":"title","item-value":"value"},null,8,["modelValue"])]),_:1}),a(h,{cols:"12",md:"2"},{default:t(()=>[a(Ve,{modelValue:l.filters.severity,"onUpdate:modelValue":e[3]||(e[3]=o=>l.filters.severity=o),items:l.severityOptions,label:"Severidade",variant:"outlined",density:"compact",clearable:"","item-title":"title","item-value":"value"},null,8,["modelValue"])]),_:1}),a(h,{cols:"12",md:"2"},{default:t(()=>[a(Ve,{modelValue:l.filters.category,"onUpdate:modelValue":e[4]||(e[4]=o=>l.filters.category=o),items:l.availableCategories,label:"Categoria",variant:"outlined",density:"compact",clearable:""},null,8,["modelValue","items"])]),_:1}),a(h,{cols:"12",md:"2"},{default:t(()=>[a(de,{modelValue:l.filters.isEnabled,"onUpdate:modelValue":e[5]||(e[5]=o=>l.filters.isEnabled=o),label:"Apenas ativas",color:"primary",density:"compact","hide-details":""},null,8,["modelValue"])]),_:1}),a(h,{cols:"12",md:"1"},{default:t(()=>[a(O,{icon:"mdi-filter-off",variant:"outlined",onClick:l.clearFilters,title:"Limpar filtros"})]),_:1})]),_:1})]),_:1})]),_:1}),l.loading?(v(),C("div",Ta,[a(Ie,{indeterminate:"",color:"primary",size:"64"}),e[19]||(e[19]=i("div",{class:"mt-4 text-body-1"},"Carregando regras...",-1))])):l.error?(v(),C("div",Da,[a(T,{size:"64",color:"error",class:"mb-4"},{default:t(()=>[...e[20]||(e[20]=[s("mdi-alert-circle",-1)])]),_:1}),e[22]||(e[22]=i("div",{class:"text-h6 mb-2"},"Erro ao carregar dados",-1)),i("div",za,u(l.error),1),a(O,{color:"primary",onClick:l.refreshData},{default:t(()=>[...e[21]||(e[21]=[s("Tentar Novamente",-1)])]),_:1})])):(v(),C("div",Ia,[(v(!0),C(oe,null,Ce(l.ruleConfigs.data,o=>(v(),W(U,{key:o.id,class:"mb-4"},{default:t(()=>[a(K,null,{default:t(()=>[i("div",Aa,[i("div",Pa,[i("div",Ua,[i("h3",Fa,u(o.ruleTemplate?.title||"Regra sem título"),1),a(L,{color:l.getSeverityColor(o.customSeverity||o.ruleTemplate?.severity),size:"small",class:"mr-2"},{default:t(()=>[s(u(l.getSeverityLabel(o.customSeverity||o.ruleTemplate?.severity)),1)]),_:2},1032,["color"]),a(L,{color:o.isEnabled?"success":"error",size:"small",class:"mr-2"},{default:t(()=>[s(u(o.isEnabled?"Ativada":"Desativada"),1)]),_:2},1032,["color"]),o.category?(v(),W(L,{key:0,color:"info",size:"small",variant:"outlined"},{default:t(()=>[s(u(o.category),1)]),_:2},1024)):P("",!0)]),i("p",Ma,u(o.ruleTemplate?.rule||"Descrição não disponível"),1),o.customMessage?(v(),C("div",Oa,[a(L,{color:"orange",size:"small","prepend-icon":"mdi-pencil"},{default:t(()=>[...e[23]||(e[23]=[s(" Mensagem personalizada ",-1)])]),_:1}),i("p",La,u(o.customMessage),1)])):P("",!0),o.tags&&o.tags.length?(v(),C("div",Ba,[(v(!0),C(oe,null,Ce(o.tags,p=>(v(),W(L,{key:p,size:"small",variant:"outlined",class:"mr-1"},{default:t(()=>[s(u(p),1)]),_:2},1024))),128))])):P("",!0),i("div",qa," Prioridade: "+u(o.priority||"N/A")+" | Atualizada: "+u(l.formatDate(o.updatedAt)),1)]),i("div",Na,[l.isDemoUser?P("",!0):(v(),W(Ue,{key:0},{activator:t(({props:p})=>[a(O,Y({icon:"mdi-dots-vertical",variant:"text",size:"small"},{ref_for:!0},p),null,16)]),default:t(()=>[a(Ae,null,{default:t(()=>[a(ue,{onClick:p=>l.openEditDialog(o.id)},{default:t(()=>[a(xe,null,{default:t(()=>[a(T,{class:"mr-2"},{default:t(()=>[...e[24]||(e[24]=[s("mdi-pencil",-1)])]),_:1}),e[25]||(e[25]=s(" Editar ",-1))]),_:1})]),_:1},8,["onClick"]),a(ue,{onClick:p=>l.toggleRule(o.id,!o.isEnabled)},{default:t(()=>[a(xe,null,{default:t(()=>[a(T,{class:"mr-2"},{default:t(()=>[s(u(o.isEnabled?"mdi-pause":"mdi-play"),1)]),_:2},1024),s(" "+u(o.isEnabled?"Desativar":"Ativar"),1)]),_:2},1024)]),_:2},1032,["onClick"]),a(Pe),a(ue,{onClick:p=>l.deleteRule(o.id),class:"text-error"},{default:t(()=>[a(xe,null,{default:t(()=>[a(T,{class:"mr-2"},{default:t(()=>[...e[26]||(e[26]=[s("mdi-delete",-1)])]),_:1}),e[27]||(e[27]=s(" Deletar ",-1))]),_:1})]),_:1},8,["onClick"])]),_:2},1024)]),_:2},1024))])])]),_:2},1024)]),_:2},1024))),128)),l.ruleConfigs.data?.length?P("",!0):(v(),C("div",ja,[a(U,{class:"pa-8"},{default:t(()=>[a(T,{size:"64",color:"grey",class:"mb-4"},{default:t(()=>[...e[28]||(e[28]=[s("mdi-shield-off",-1)])]),_:1}),e[29]||(e[29]=i("div",{class:"text-h6 mb-2"},"Nenhuma regra encontrada",-1)),i("div",Ka,[l.isDemoUser?(v(),C("span",Wa,"Tente ajustar os filtros para encontrar regras")):(v(),C("span",Ha,"Configure regras personalizadas para análise de código"))])]),_:1})]))])),l.ruleConfigs.totalPages>1?(v(),C("div",Ja,[a(Fl,{modelValue:l.currentPage,"onUpdate:modelValue":[e[6]||(e[6]=o=>l.currentPage=o),l.onPageChange],length:l.ruleConfigs.totalPages},null,8,["modelValue","length"])])):P("",!0),a(l.RuleFormDialog,{modelValue:l.showRuleDialog,"onUpdate:modelValue":e[7]||(e[7]=o=>l.showRuleDialog=o),"rule-id":l.editingRuleId,"organization-id":l.organizationId,onSaved:l.onRuleSaved},null,8,["modelValue","rule-id"])])}const Ct=ze(ya,[["render",Qa],["__scopeId","data-v-42ced0b2"],["__file","D:/Development/Projetos/Mira/mira-client/src/views/rules/RulesView.vue"]]);export{Ct as default};
