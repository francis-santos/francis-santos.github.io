import{p as F,q as M}from"./vendor-ui-Ca7vMALJ.js";import{t as d,s as R,d as c,w,p as B,f as k,h as m,am as D}from"./vendor-vue-BKuzT1x2.js";const y=Symbol.for("vuetify:form"),x=F({disabled:Boolean,fastFail:Boolean,readonly:Boolean,modelValue:{type:Boolean,default:null},validateOn:{type:String,default:"input"}},"form");function P(i){const r=M(i,"modelValue"),f=d(()=>i.disabled),v=d(()=>i.readonly),n=R(!1),a=c([]),o=c([]);async function g(){const e=[];let s=!0;o.value=[],n.value=!0;for(const t of a.value){const l=await t.validate();if(l.length>0&&(s=!1,e.push({id:t.id,errorMessages:l})),!s&&i.fastFail)break}return o.value=e,n.value=!1,{valid:s,errors:o.value}}function V(){a.value.forEach(e=>e.reset())}function h(){a.value.forEach(e=>e.resetValidation())}return w(a,()=>{let e=0,s=0;const t=[];for(const l of a.value)l.isValid===!1?(s++,t.push({id:l.id,errorMessages:l.errorMessages})):l.isValid===!0&&e++;o.value=t,r.value=s>0?!1:e===a.value.length?!0:null},{deep:!0,flush:"post"}),B(y,{register:e=>{let{id:s,vm:t,validate:l,reset:u,resetValidation:p}=e;a.value.some(b=>b.id===s),a.value.push({id:s,validate:l,reset:u,resetValidation:p,vm:D(t),isValid:null,errorMessages:[]})},unregister:e=>{a.value=a.value.filter(s=>s.id!==e)},update:(e,s,t)=>{const l=a.value.find(u=>u.id===e);l&&(l.isValid=s,l.errorMessages=t)},isDisabled:f,isReadonly:v,isValidating:n,isValid:r,items:a,validateOn:d(()=>i.validateOn)}),{errors:o,isDisabled:f,isReadonly:v,isValidating:n,isValid:r,items:a,validate:g,reset:V,resetValidation:h}}function S(i){const r=k(y,null);return{...r,isReadonly:m(()=>!!(i?.readonly??r?.isReadonly.value)),isDisabled:m(()=>!!(i?.disabled??r?.isDisabled.value))}}export{P as c,x as m,S as u};
