import{a as i}from"./auth-PiWOMLtm.js";import{u as o}from"./VChip-BzUv3cXC.js";class s{baseUrl="/organizations";async getOrganizations(a={}){const{isDemoUser:r,getMockData:n}=o();if(r.value){const t=await n("organizations",a.page||1,a.limit||20,a);return{data:t.data,total:t.total,page:t.page,limit:t.limit,totalPages:Math.ceil(t.total/t.limit)}}const e=new URLSearchParams;return a.search&&e.append("search",a.search),a.status&&e.append("status",a.status),a.tier&&e.append("tier",a.tier),a.isActive!==void 0&&e.append("isActive",a.isActive.toString()),a.page&&e.append("page",a.page.toString()),a.limit&&e.append("limit",a.limit.toString()),a.sortBy&&e.append("sortBy",a.sortBy),a.sortOrder&&e.append("sortOrder",a.sortOrder),await i.get(`${this.baseUrl}?${e}`)}async getOrganization(a){const{isDemoUser:r,getMockItem:n}=o();if(r.value){const e=await n("organizations",a);if(!e)throw new Error("Organização não encontrada");return e}return await i.get(`${this.baseUrl}/${a}`)}async createOrganization(a){return await i.post(this.baseUrl,a)}async updateOrganization(a,r){return await i.patch(`${this.baseUrl}/${a}`,r)}async deleteOrganization(a){return await i.delete(`${this.baseUrl}/${a}`)}getAvailableTiers(){return[{value:"free",title:"Gratuito",color:"success"},{value:"professional",title:"Profissional",color:"warning"},{value:"enterprise",title:"Empresarial",color:"purple"}]}getAvailableStatuses(){return[{value:"active",title:"Ativa",color:"success"},{value:"inactive",title:"Inativa",color:"error"},{value:"suspended",title:"Suspensa",color:"warning"}]}formatDate(a){return new Date(a).toLocaleString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}getTierColor(a){switch(a){case"free":return"success";case"professional":return"warning";case"enterprise":return"purple";default:return"grey"}}getStatusColor(a){switch(a){case"active":return"success";case"inactive":return"error";case"suspended":return"warning";default:return"grey"}}}const g=new s;export{g as o};
